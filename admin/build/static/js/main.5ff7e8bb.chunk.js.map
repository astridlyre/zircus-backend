{"version":3,"sources":["services/services.js","hooks/hooks.js","services/Websocket.js","Login.js","components/Icons/UserIcon.js","components/Header/Header.js","components/Icons/RightIcon.js","components/Icons/LeftIcon.js","components/Icons/InventoryIcon.js","components/Icons/OrdersIcon.js","components/Icons/MetricsIcon.js","components/Icons/MessagesIcon.js","components/SideNav/SideNavButton.js","components/SideNav/SideNav.js","components/Text/Label.js","components/Inventory/InventoryItem.js","components/Icons/Spinner.js","components/Containers/Page.js","components/Containers/List.js","components/Button.js","components/Inventory/Inventory.js","components/Metrics/OrdersChart.js","components/Metrics/Metrics.js","components/Text/MediumHeader.js","components/Orders/OrderAddress.js","components/Orders/OrderItems.js","components/Icons/Trash.js","components/Buttons/DeleteButton.js","components/Orders/Order.js","components/Filter/FilterIcon.js","components/Filter/Filter.js","components/Orders/Orders.js","components/Messages/Message.js","components/Messages/Messages.js","components/Notification/Notification.js","Dashboard.js","components/Modal/Modal.js","App.js","index.js"],"names":["axios","interceptors","request","use","config","token","localStorage","getItem","headers","getData","res","a","data","API_ENDPOINT","login","username","password","post","then","getInv","get","getOrders","updateOrder","order","put","id","delete","updateItem","item","getMessages","getLabel","url","responseType","useField","type","initial","placeholder","useState","value","setFieldVal","onChange","e","target","listeners","WebsocketContext","React","createContext","WebsocketProvider","children","websocket","useRef","autoReconnectInterval","initializeWebSocket","current","WebSocket","onopen","console","debug","onmessage","msg","decodedMessage","JSON","parse","handleMessage","onclose","code","reconnectToWebSocket","onerror","err","error","setTimeout","Math","min","forEach","x","messageHandler","Provider","disconnectWebSocket","close","addListener","length","push","removeListener","filter","l","StyledLogin","Consumer","styled","main","StyledForm","form","StyledLabel","label","StyledMessage","p","props","failedLogin","StyledButton","button","Login","setToken","setUser","setFailedLogin","usernameInput","passwordInput","useContext","handleFailedLogin","handleSuccessfulLogin","name","setItem","handleSubmit","preventDefault","catch","useEffect","storedToken","storedUser","onSubmit","htmlFor","disabled","className","UserIcon","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","StyledHeader","header","StyledH3","h3","StyledName","span","Header","text","logout","user","split","onClick","RightIcon","points","LeftIcon","InventoryIcon","x1","y1","x2","y2","OrdersIcon","MetricsIcon","MessagesIcon","showFull","SideNavButton","active","page","num","setPage","StyledNav","nav","StyledUl","ul","StyledLi","li","StyledNavButton","SideNav","inv","orders","setShowFull","messages","Label","StyledImg","img","StyledAttr","grow","InventoryItem","setInv","handler","key","fn","event","map","i","log","handleQuantity","t","Number","handleActive","checked","handlePrice","src","images","sm_a","alt","en","size","color","step","price","quantity","Spinner","StyledPage","padTop","pad","Page","StyledList","gap","List","variant","Button","attributes","StyledTextArea","div","StyledButtonContainer","StyledPrefixes","Inventory","searchValue","setSearchValue","descriptionToEdit","setDescriptionToEdit","invToShow","toLowerCase","prefix","includes","prefixes","reduce","acc","hasOwnProperty","description","updateDescription","Object","entries","title","OrdersChart","date","Date","createdOn","toLocaleDateString","total","LineChart","width","height","Line","dataKey","CartesianGrid","XAxis","YAxis","StyledContainer","flow","StyledBubble","StyledOrdersNum","StyledItems","Metrics","invFlat","values","flat","hasPaid","hasShipped","StyledText","MediumHeader","StyledAddress","address","OrderAddress","href","email","phone","replaceAll","line1","line2","city","state","postalCode","toUpperCase","country","StyledTotal","OrderItems","items","image","toFixed","Trash","DeleteButton","StyledActions","StyledBtnContainer","Order","setShowModal","setOrders","notify","handleDeleteFailure","handleLabel","result","fileURL","window","URL","createObjectURL","Blob","fURL","document","createElement","setAttribute","orderId","body","appendChild","click","remove","toLocaleString","heading","btnText","ok","choice","o","updatedAttributes","shipping","shipment","deleteOrder","FilterIcon","StyledFiltersContainer","StyledFilters","Filter","filters","dateStart","dateEnd","showFilters","setShowFilters","setActive","Orders","showShipped","setShowShipped","showPaid","setShowPaid","ordersToShow","start","end","orderTime","getTime","StyledDiv","StyledA","Message","message","setMessages","handleDeleteSuccess","response","m","handleDelete","deleteMessage","substring","Messages","look","StyledP","Notification","notification","style","StyledDashboard","Dashboard","numOrders","numMessages","numInv","reduceFn","StyledBlur","showModal","StyledBlock","StyledModal","section","StyledButtons","Modal","cancelBtn","focus","ref","App","setNotification","websocketId","setWebsocketId","updateOrders","reply","initWebsocketListener","websocketListenerId","updateMessages","onComponentDestroy","self","clearTimeout","removeItem","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5ff7e8bb.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  config.headers[\"Authorization\"] = `Bearer ${token}`;\n  return config;\n});\n\nconst getData = async res => await res.data;\n\nconst API_ENDPOINT = \"https://zircus.herokuapp.com/api\";\n// const API_ENDPOINT = \"http://localhost:3000/api\";\n\nexport async function login(username, password) {\n  return await axios\n    .post(`${API_ENDPOINT}/login`, {\n      username,\n      password,\n    })\n    .then(getData);\n}\n\nexport async function getInv() {\n  return await axios.get(`${API_ENDPOINT}/inv`).then(getData);\n}\n\nexport async function getOrders() {\n  return await axios.get(`${API_ENDPOINT}/orders`).then(getData);\n}\n\nexport async function updateOrder(order) {\n  return await axios\n    .put(`${API_ENDPOINT}/orders/${order.id}`, order)\n    .then(getData);\n}\n\nexport async function deleteOrder(id) {\n  return await axios.delete(`${API_ENDPOINT}/orders/${id}`).then(getData);\n}\n\nexport async function updateItem(item) {\n  return await axios.put(`${API_ENDPOINT}/inv`, item).then(getData);\n}\n\nexport async function getMessages() {\n  return await axios.get(`${API_ENDPOINT}/message`).then(getData);\n}\n\nexport async function deleteMessage(id) {\n  return await axios.delete(`${API_ENDPOINT}/message/${id}`).then(getData);\n}\n\nexport async function getLabel(url) {\n  return await axios\n    .post(\n      `${API_ENDPOINT}/orders/label`,\n      { url },\n      {\n        responseType: \"blob\",\n      }\n    )\n    .then(getData);\n}\n","import { useState } from \"react\";\n\nexport function useField(type, initial, placeholder) {\n  const [value, setFieldVal] = useState(initial);\n  return [\n    {\n      type,\n      value,\n      onChange: (e) => setFieldVal(e.target.value),\n      placeholder,\n    },\n    () => setFieldVal(initial),\n  ];\n}\n","import React, { useRef } from \"react\";\n\nconst WS_ENDPOINT = \"wss://zircus.herokuapp.com\";\n// const WS_ENDPOINT = \"ws://localhost:3000\";\n\nlet listeners = [];\n\nconst WebsocketContext = React.createContext();\n\nconst WebsocketProvider = ({ children }) => {\n  const websocket = useRef(null);\n  let autoReconnectInterval = 250;\n\n  const initializeWebSocket = () => {\n    websocket.current = new WebSocket(WS_ENDPOINT);\n    websocket.current.onopen = () => {\n      console.debug(\"Websocket connection open\");\n      autoReconnectInterval = 250;\n    };\n    websocket.current.onmessage = msg => {\n      const decodedMessage = JSON.parse(msg.data);\n      handleMessage(decodedMessage);\n    };\n    websocket.current.onclose = e => {\n      switch (e.code) {\n        case 1000:\n          console.debug(\"Websocket closed normally\");\n          break;\n        default:\n          autoReconnectInterval += autoReconnectInterval;\n          reconnectToWebSocket(autoReconnectInterval);\n      }\n    };\n    websocket.current.onerror = err => {\n      switch (err.code) {\n        case \"ECONNREFUSED\":\n          autoReconnectInterval = autoReconnectInterval +=\n            autoReconnectInterval;\n          reconnectToWebSocket(autoReconnectInterval);\n          break;\n        default:\n          console.error(`Websocket encountered error: ${err}`);\n      }\n    };\n  };\n\n  const reconnectToWebSocket = autoReconnectInterval => {\n    const maximumConnectionTimeout = 10000;\n    setTimeout(\n      initializeWebSocket,\n      Math.min(maximumConnectionTimeout, autoReconnectInterval)\n    );\n  };\n\n  const handleMessage = msg => {\n    console.debug(`[Websocket-IncomingMessage] `, msg);\n    listeners.forEach(x => x.messageHandler(msg));\n  };\n\n  const disconnectWebSocket = () => {\n    if (!!websocket.current) websocket.current.close(1000);\n  };\n\n  const addListener = messageHandler => {\n    const id = listeners.length;\n    listeners.push({ id, messageHandler });\n    return id;\n  };\n\n  const removeListener = id => (listeners = listeners.filter(l => l.id !== id));\n\n  return (\n    <WebsocketContext.Provider\n      value={{\n        initializeWebSocket,\n        disconnectWebSocket,\n        addListener,\n        removeListener,\n      }}\n    >\n      {children}\n    </WebsocketContext.Provider>\n  );\n};\n\nconst WebsocketConsumer = WebsocketContext.Consumer;\n\nexport { WebsocketConsumer, WebsocketContext, WebsocketProvider };\n","import styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport { login } from \"./services/services.js\";\nimport { useField } from \"./hooks/hooks.js\";\nimport { WebsocketContext } from \"./services/Websocket.js\";\nimport { useContext } from \"react\";\n\nconst StyledLogin = styled.main`\n    width: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n`;\n\nconst StyledForm = styled.form`\n    margin-top: var(--lg-spacing);\n    padding: var(--md-spacing);\n    background-color: var(--gray-20);\n    border-radius: var(--big-radius);\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 0.5rem;\n`;\n\nconst StyledLabel = styled.label`\n    display: flex;\n    flex-flow: column nowrap;\n`;\n\nconst StyledMessage = styled.p`\n    color: ${(\n  props,\n) => (props.failedLogin ? \"var(--red)\" : \"var(--text-color)\")};\n    margin: var(--base-spacing) 0;\n    font-weight: 500;\n`;\n\nconst StyledButton = styled.button`\n    margin-top: 0.5rem;\n`;\n\nexport default function Login({ setToken, setUser }) {\n  const [failedLogin, setFailedLogin] = useState(false);\n  const [usernameInput] = useField(\"text\", \"\");\n  const [passwordInput] = useField(\"password\", \"\");\n  const { initializeWebSocket } = useContext(WebsocketContext);\n\n  const handleFailedLogin = () => {\n    setFailedLogin(true);\n    setTimeout(() => {\n      setFailedLogin(false);\n    }, 2000);\n  };\n\n  const handleSuccessfulLogin = ({ name, token }) => {\n    setUser(name);\n    setToken(token);\n    localStorage.setItem(\"user\", name);\n    localStorage.setItem(\"token\", token);\n    initializeWebSocket();\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    login(usernameInput.value, passwordInput.value)\n      .then(handleSuccessfulLogin)\n      .catch(handleFailedLogin);\n  };\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"token\");\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedToken) setToken(storedToken);\n    if (storedUser) setUser(storedUser);\n    if (storedToken && storedUser) initializeWebSocket();\n  }, [setToken, setUser, initializeWebSocket]);\n\n  return (\n    <StyledLogin>\n      <StyledForm onSubmit={handleSubmit}>\n        <h1>Zircus Admin</h1>\n        <StyledMessage failedLogin={failedLogin}>\n          {failedLogin ? \"Login failed\" : \"Please Log in:\"}\n        </StyledMessage>\n        <StyledLabel htmlFor=\"username\">\n          <span>Username</span>\n          <input\n            {...usernameInput}\n            disabled={failedLogin ? true : false}\n          />\n        </StyledLabel>\n        <StyledLabel htmlFor=\"password\">\n          <span>Password</span>\n          <input\n            {...passwordInput}\n            disabled={failedLogin ? true : false}\n          />\n        </StyledLabel>\n        <StyledButton\n          className=\"button\"\n          type=\"submit\"\n          disabled={failedLogin ? true : false}\n        >\n          {failedLogin ? \"Please wait\" : \"Log in\"}\n        </StyledButton>\n      </StyledForm>\n    </StyledLogin>\n  );\n}\n","export default function UserIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n      <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n    </svg>\n  );\n}\n","import styled from \"styled-components\";\nimport UserIcon from \"../Icons/UserIcon.js\";\n\nconst StyledHeader = styled.header`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 4rem;\n    background: var(--dgray-80);\n    padding: var(--base-spacing);\n    z-index: 10;\n    box-shadow: 0px 6px 12px 4px rgba(23, 23, 22, 0.075),\n      0px 3px 6px 1px rgba(22, 22, 21, 0.15);\n`;\n\nconst StyledH3 = styled.h3`\n    color: var(--invert-text-color);\n    font-size: 1.25rem;\n    flex-grow: 1;\n`;\n\nconst StyledName = styled.span`\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n    color: var(--gray-10);\n    margin-right: var(--base-spacing);\n\n    svg {\n        height: 1rem;\n    }\n`;\n\nexport default function Header({ text, logout, user }) {\n  return (\n    <StyledHeader>\n      <StyledH3>{text}</StyledH3>\n      <StyledName>\n        <UserIcon /> {user.split(\" \")[0]}\n      </StyledName>\n      <button\n        className=\"button light outline\"\n        type=\"button\"\n        onClick={logout}\n      >\n        logout\n      </button>\n    </StyledHeader>\n  );\n}\n","export default function RightIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"13 17 18 12 13 7\"></polyline>\n      <polyline points=\"6 17 11 12 6 7\"></polyline>\n    </svg>\n  );\n}\n","export default function LeftIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"11 17 6 12 11 7\"></polyline>\n      <polyline points=\"18 17 13 12 18 7\"></polyline>\n    </svg>\n  );\n}\n","export default function InventoryIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <line x1=\"8\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n      <line x1=\"8\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\n      <line x1=\"8\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\n      <line x1=\"3\" y1=\"6\" x2=\"3.01\" y2=\"6\"></line>\n      <line x1=\"3\" y1=\"12\" x2=\"3.01\" y2=\"12\"></line>\n      <line x1=\"3\" y1=\"18\" x2=\"3.01\" y2=\"18\"></line>\n    </svg>\n  );\n}\n","export default function OrdersIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\"></path>\n      <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n      <path d=\"M16 10a4 4 0 0 1-8 0\"></path>\n    </svg>\n  );\n}\n","export default function MetricsIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\"></polyline>\n      <polyline points=\"17 6 23 6 23 12\"></polyline>\n    </svg>\n  );\n}\n","export default function MessagesIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\">\n      </path>\n    </svg>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledButton = styled.button`\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n    ${(props) => props.showFull && \"gap: calc(var(--base-unit) * 1.5);\"}\n    justify-content: ${(props) => (props.showFull ? \"left\" : \"center\")};\n    ${(props) => !props.showFull && \"padding: var(--input-padding);\"}\n\n    svg {\n        height: 1.25rem;\n    }\n`;\nexport default function SideNavButton({\n  showFull,\n  active,\n  page,\n  num,\n  setPage,\n  children,\n}) {\n  return (\n    <StyledButton\n      showFull={showFull}\n      className={page === active ? \"button\" : \"button outline\"}\n      onClick={() => setPage(active)}\n    >\n      {children}\n      {showFull && `${active} ${num ? `(${num})` : \"\"}`}\n    </StyledButton>\n  );\n}\n","import styled from \"styled-components\";\nimport RightIcon from \"../Icons/RightIcon.js\";\nimport LeftIcon from \"../Icons/LeftIcon.js\";\nimport InventoryIcon from \"../Icons/InventoryIcon.js\";\nimport OrdersIcon from \"../Icons/OrdersIcon.js\";\nimport MetricsIcon from \"../Icons/MetricsIcon.js\";\nimport MessagesIcon from \"../Icons/MessagesIcon.js\";\nimport SideNavButton from \"./SideNavButton.js\";\n\nconst StyledNav = styled.nav`\n    position: fixed;\n    top: 4rem;\n    left: 0;\n    bottom: 0;\n    z-index: 5;\n    width: ${(props) => (props.showFull ? \"14rem\" : \"4rem\")};\n    border-right: 2px solid var(--gray-30);\n    background-color: var(--gray-10);\n    box-shadow: 3px 0px 6px 0 rgba(23, 23, 22, 0.02), \n      5px 0px 6px 0 rgba(23, 23, 21, 0.057);\n`;\n\nconst StyledUl = styled.ul`\n    list-style: none;\n    display: flex;\n    gap: var(--base-unit);\n    flex-flow: column nowrap;\n    padding: var(--base-unit) var(--base-unit) 0 var(--base-unit) !important;\n`;\n\nconst StyledLi = styled.li`\n    width: 100%;\n    display: flex;\n`;\n\nconst StyledNavButton = styled.button`\n    width: 100%;\n    padding: var(--base-unit);\n    display: flex;\n    justify-content: ${(props) => (props.showFull ? \"flex-end\" : \"center\")};\n    align-items: center;\n    background: transparent;\n    border: none;\n    outline: none;\n\n    &:hover {\n        background-color: var(--gray-05);\n        cursor: pointer;\n    }\n\n    svg {\n        height: 1.5rem;\n    }\n`;\n\nexport default function SideNav({\n  setPage,\n  page,\n  inv,\n  orders,\n  showFull,\n  setShowFull,\n  messages,\n}) {\n  return (\n    <StyledNav showFull={showFull}>\n      <StyledNavButton\n        showFull={showFull}\n        type=\"button\"\n        onClick={() => setShowFull(!showFull)}\n      >\n        {showFull ? <LeftIcon /> : <RightIcon />}\n      </StyledNavButton>\n      <StyledUl>\n        <StyledLi>\n          <SideNavButton\n            showFull={showFull}\n            page={page}\n            active=\"metrics\"\n            setPage={setPage}\n          >\n            <MetricsIcon />\n          </SideNavButton>\n        </StyledLi>\n        <StyledLi>\n          <SideNavButton\n            showFull={showFull}\n            page={page}\n            active=\"orders\"\n            num={orders}\n            setPage={setPage}\n          >\n            <OrdersIcon />\n          </SideNavButton>\n        </StyledLi>\n        <StyledLi>\n          <SideNavButton\n            active=\"inventory\"\n            page={page}\n            showFull={showFull}\n            num={inv}\n            setPage={setPage}\n          >\n            <InventoryIcon />\n          </SideNavButton>\n        </StyledLi>\n        <StyledLi>\n          <SideNavButton\n            active=\"messages\"\n            page={page}\n            showFull={showFull}\n            num={messages}\n            setPage={setPage}\n          >\n            <MessagesIcon />\n          </SideNavButton>\n        </StyledLi>\n      </StyledUl>\n    </StyledNav>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledLabel = styled.label`\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n    user-select: none;\n    margin: 0;\n`;\n\nexport default function Label({ props, children }) {\n  return <StyledLabel {...props}>{children}</StyledLabel>;\n}\n","import styled from \"styled-components\";\nimport Label from \"../Text/Label.js\";\nimport { updateItem } from \"../../services/services.js\";\n\nconst StyledLi = styled.li`\n  display: flex;\n  width: 100%;\n  align-items: center;\n  gap: 2rem;\n  @media screen and (min-width: 1281px) {\n    gap: 3rem;\n  }\n  border-top: 2px solid var(--gray-20);\n  border-left: 2px solid var(--gray-20);\n  border-right: 2px solid var(--gray-20);\n  padding: 1rem;\n  background-color: var(--gray-10);\n\n  &:hover {\n    background-color: var(--gray-05);\n  }\n`;\n\nconst StyledImg = styled.img`\n  max-height: 2rem;\n`;\n\nconst StyledName = styled.p`\n  font-size: 1rem;\n`;\n\nconst StyledAttr = styled.p`\n  font-weight: 500;\n  ${props => props.grow && \"flex-grow: 1;\"}\n`;\n\nexport default function InventoryItem({ item, setInv }) {\n  const handler = (key, fn) => event => {\n    setInv(inv =>\n      inv.map(i => (i.id === item.id ? { ...i, [key]: fn(event.target) } : i))\n    );\n    updateItem({ ...item, [key]: fn(event.target) }).catch(e => console.log(e));\n  };\n\n  const handleQuantity = handler(\"quantity\", t => Number(t.value));\n  const handleActive = handler(\"active\", t => t.checked);\n  const handlePrice = handler(\"price\", t => Number(t.value));\n\n  return (\n    <StyledLi>\n      <StyledImg\n        src={`https://zircus.netlify.app/${item.images.sm_a}`}\n        alt={item.name}\n        className=\"inventory__item__img\"\n      />\n      <StyledName>{item.name.en}</StyledName>\n      <StyledAttr>{item.size}</StyledAttr>\n      <StyledAttr grow={true}>{item.color}</StyledAttr>\n      <Label htmlFor={`${item.id}-price`}>\n        <StyledAttr>price</StyledAttr>\n        <input\n          min=\"0\"\n          step=\"1\"\n          size=\"5\"\n          type=\"number\"\n          id={`${item.id}-price`}\n          value={item.price}\n          onChange={handlePrice}\n        />\n      </Label>\n      <Label htmlFor={`${item.id}-quantity`}>\n        <StyledAttr>quantity</StyledAttr>\n        <input\n          min=\"0\"\n          step=\"1\"\n          size=\"5\"\n          type=\"number\"\n          id={`${item.id}-quantity`}\n          value={item.quantity}\n          onChange={handleQuantity}\n        />\n      </Label>\n      <Label htmlFor=\"active\">\n        <StyledAttr>active</StyledAttr>\n        <input type=\"checkbox\" checked={item.active} onChange={handleActive} />\n      </Label>\n    </StyledLi>\n  );\n}\n","export default function Spinner() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"icon\"\n    >\n      <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line>\n      <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line>\n      <line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line>\n      <line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line>\n      <line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line>\n      <line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line>\n      <line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line>\n      <line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line>\n    </svg>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledPage = styled.main`\n    overflow-y: scroll;\n    min-height: calc(100vh - 4rem);\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    ${(props) => props.padTop && \"padding-top: var(--base-spacing);\"}\n    ${(props) => props.pad && `padding-left: var(--base-spacing);`}\n    ${(props) => props.pad && `padding-right: var(--base-spacing);`}\n    padding-bottom: var(--lg-spacing);\n    background-color: var(--gray-20);\n`;\n\nexport default function Page({ children, padTop, pad }) {\n  return (\n    <StyledPage padTop={padTop} pad={pad}>\n      {children}\n    </StyledPage>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledList = styled.ul`\n    display: flex;\n    flex-flow: column nowrap;\n    max-width: var(--screen-lg);\n    width: 100%;\n    ${(props) => (props.gap ? \"gap: var(--base-spacing);\" : \"\")}\n`;\nexport default function List({ gap, children }) {\n  return <StyledList gap={gap}>{children}</StyledList>;\n}\n","import styled from \"styled-components\";\n\nconst StyledButton = styled.button`\n  padding: var(--base-unit) var(--base-spacing);\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: ${props =>\n    props.variant === \"outline\" ? \"var(--dgray-80)\" : \"var(--gray-05)\"};\n  background-color: ${props =>\n    props.variant === \"outline\" ? \"transparent\" : `var(--${props.variant})`};\n  border: 2px solid\n    ${props =>\n      props.variant === \"outline\"\n        ? \"var(--dgray-80)\"\n        : `var(--${props.variant})`};\n  border-radius: var(--radius);\n\n  &:hover,\n  &:focus {\n    cursor: pointer;\n    background-color: ${props =>\n      props.variant === \"outline\"\n        ? \"var(--dgray-80)\"\n        : `var(--${props.variant})`};\n    color: var(--gray-05);\n  }\n`;\n\nexport default function Button({ attributes, text, variant }) {\n  return (\n    <StyledButton {...attributes} variant={variant}>\n      {text}\n    </StyledButton>\n  );\n}\n","import { useState } from \"react\";\nimport { updateItem } from \"../../services/services.js\";\nimport InventoryItem from \"./InventoryItem.js\";\nimport Spinner from \"../Icons/Spinner.js\";\nimport Page from \"../Containers/Page.js\";\nimport List from \"../Containers/List.js\";\nimport Button from \"../Button.js\";\nimport styled from \"styled-components\";\n\nconst StyledTextArea = styled.div`\n  display: flex;\n  gap: var(--base-spacing);\n`;\n\nconst StyledButtonContainer = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  gap: var(--base-unit);\n`;\n\nconst StyledPrefixes = styled.ul`\n  display: flex;\n  gap: var(--base-spacing);\n\n  li {\n    margin: var(--base-spacing) 0;\n    }\n  }\n`;\n\nconst StyledLabel = styled.label`\n  display: flex;\n  gap: var(--base-spacing);\n  align-items: center;\n  padding: var(--base-unit);\n  background-color: var(--dgray-80);\n  border-radius: var(--radius);\n  right: var(--base-spacing);\n  bottom: var(--base-unit);\n  position: fixed;\n  box-shadow: var(--box-shadow-sm);\n`;\n\nexport default function Inventory({ inv, setInv }) {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [descriptionToEdit, setDescriptionToEdit] = useState(null);\n  const invToShow = inv.filter(item => {\n    if (!searchValue) return true;\n    const testStrings = [\n      item.name[\"en\"].toLowerCase(),\n      item.prefix,\n      item.size,\n      item.color,\n    ];\n    for (const testStr of testStrings) {\n      if (testStr.includes(searchValue.toLowerCase())) {\n        return true;\n      }\n    }\n    return false;\n  });\n\n  const prefixes = inv.reduce((acc, item) => {\n    if (!acc.hasOwnProperty(item.prefix)) {\n      acc[item.prefix] = item.description;\n    }\n    return acc;\n  }, {});\n\n  const handleSearch = event => setSearchValue(event.target.value);\n  const updateDescription = async (prefix, description) => {\n    try {\n      for await (const item of inv.filter(item => item.prefix === prefix)) {\n        await updateItem({\n          ...item,\n          description,\n        });\n      }\n      setDescriptionToEdit(null);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <Page>\n      <StyledPrefixes>\n        {prefixes &&\n          Object.entries(prefixes).map(([prefix, description]) => (\n            <li title={`Edit ${prefix}'s description`}>\n              <Button\n                attributes={{\n                  onClick: () => setDescriptionToEdit({ prefix, description }),\n                }}\n                text={prefix}\n                variant=\"outline\"\n              />\n            </li>\n          ))}\n      </StyledPrefixes>\n      {descriptionToEdit && (\n        <StyledTextArea>\n          <textarea\n            value={descriptionToEdit.description}\n            onChange={event =>\n              setDescriptionToEdit({\n                ...descriptionToEdit,\n                description: event.target.value,\n              })\n            }\n          ></textarea>\n          <StyledButtonContainer>\n            <Button\n              text=\"save\"\n              variant=\"dgray-80\"\n              attributes={{\n                onClick: () =>\n                  updateDescription(\n                    descriptionToEdit.prefix,\n                    descriptionToEdit.description\n                  ),\n              }}\n            />\n            <Button\n              text=\"cancel\"\n              variant=\"outline\"\n              attributes={{ onClick: () => setDescriptionToEdit(null) }}\n            />\n          </StyledButtonContainer>\n        </StyledTextArea>\n      )}\n      <StyledLabel>\n        <input type=\"search\" value={searchValue} onChange={handleSearch} />\n      </StyledLabel>\n      <List>\n        {inv &&\n          invToShow.map(item => (\n            <InventoryItem item={item} key={item.id} setInv={setInv} />\n          ))}\n        {!inv && (\n          <li id=\"spinner\" className=\"spinner\">\n            <Spinner />\n          </li>\n        )}\n      </List>\n    </Page>\n  );\n}\n","import { CartesianGrid, Line, LineChart, XAxis, YAxis } from \"recharts\";\n\nexport default function OrdersChart({ orders }) {\n  const data = orders\n    ? orders.map((order) => ({\n      name: order.name,\n      date: new Date(order.createdOn).toLocaleDateString(),\n      total: order.total,\n    }))\n    : [];\n\n  return (\n    <LineChart width={500} height={400} data={data}>\n      <Line type=\"monotone\" dataKey=\"total\" stroke=\"#888888\" />\n      <CartesianGrid stroke=\"#cccccc\" />\n      <XAxis dataKey=\"date\" />\n      <YAxis />\n    </LineChart>\n  );\n}\n","import styled from \"styled-components\";\nimport Page from \"../Containers/Page.js\";\nimport OrdersChart from \"./OrdersChart.js\";\n\nconst StyledContainer = styled.div`\n    display: flex;\n    ${(props) =>\n  props.flow ? `flex-flow: ${props.flow};` : \"flex-flow: row wrap;\"}\n    gap: var(--base-spacing);\n    margin-top: var(--base-spacing);\n    width: 100%;\n    align-items: flex-start;\n    max-width: var(--screen-md);\n`;\n\nconst StyledBubble = styled.div`\n    background-color: var(--gray-10);\n    border-radius: var(--radius);\n    flex-basis: 12rem;\n    flex-grow: 1;\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-start;\n    overflow: hidden;\n    margin-bottom: var(--lg-spacing);\n    padding-bottom: var(--base-spacing);\n\n    :hover {\n      background-color: var(--gray-05);\n    }\n\n    h3 {\n        background-color: var(--dgray-80);\n        color: var(--gray-10);\n        width: 100%;\n        padding: var(--base-unit) var(--base-spacing);\n        margin-bottom: var(--base-spacing);\n    }\n`;\n\nconst StyledOrdersNum = styled.span`\n    height: 100%;\n    font-size: var(--md-font-size);\n    line-height: 1.8;\n    padding: 0 var(--base-spacing);\n`;\n\nconst StyledItems = styled.ul`\n    width: 100%;\n    padding: var(--base-spacing) !important;\n\n    li {\n        display: flex;\n        justify-content: space-between;\n        border-bottom: 1px solid var(--gray-30);\n        padding: var(--base-unit);\n    }\n`;\n\nexport default function Metrics({ orders, inv, messages }) {\n  const invFlat = (inv && Object.values(inv).flat()) || [];\n  return (\n    <Page pad={true}>\n      <StyledContainer flow=\"row wrap\">\n        <StyledBubble>\n          <h3>orders</h3>\n          <StyledOrdersNum>\n            pending: {orders &&\n              orders.reduce(\n                (acc, order) =>\n                  !order.hasPaid && !order.hasShipped ? acc + 1 : acc,\n                0,\n              )}\n          </StyledOrdersNum>\n          <StyledOrdersNum>\n            paid: {orders &&\n              orders.reduce((acc, order) => order.hasPaid ? acc + 1 : acc, 0)}\n          </StyledOrdersNum>\n          <StyledOrdersNum>\n            shipped: {orders &&\n              orders.reduce(\n                (acc, order) =>\n                  order.hasPaid && order.hasShipped ? acc + 1 : acc,\n                0,\n              )}\n          </StyledOrdersNum>\n        </StyledBubble>\n        <StyledBubble>\n          <h3>messages</h3>\n          <StyledOrdersNum>\n            total: {messages && messages.length}\n          </StyledOrdersNum>\n        </StyledBubble>\n        <StyledBubble>\n          <h3>low stock</h3>\n          <StyledItems>\n            {invFlat.map(\n              (item) =>\n                item.quantity < 5 && (\n                  <li key={item.type}>\n                    <span>{item.type}</span>\n                    <span>{item.quantity}</span>\n                  </li>\n                ),\n            )}\n          </StyledItems>\n        </StyledBubble>\n      </StyledContainer>\n      <StyledContainer flow=\"column nowrap\">\n        <h2>Recent Orders</h2>\n        <OrdersChart orders={orders} />\n      </StyledContainer>\n    </Page>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledText = styled.h3`\n    font-size: 1.125rem;\n    font-weight: 700;\n    display: block;\n    margin-bottom: var(--base-unit);\n    font-style: normal;\n`;\n\nexport default function MediumHeader({ children }) {\n  return <StyledText>{children}</StyledText>;\n}\n","import styled from \"styled-components\";\nimport MediumHeader from \"../Text/MediumHeader.js\";\n\nconst StyledAddress = styled.address`\n    flex-grow: 1;\n`;\n\nexport default function OrderAddress({ order }) {\n  return (\n    <StyledAddress>\n      <MediumHeader>{order.name}</MediumHeader>\n      <a href={`mailto:${order.email}`}>{order.email}</a>\n      <br />\n      <a href={`tel:+1${order.phone.replaceAll(\" \", \"\")}`}>+1 {order.phone}</a>\n      <br />\n      {order.address.line1}\n      <br />\n      {order.address.line2}\n      <br />\n      {order.address.city} {order.address.state}\n      <br />\n      {order.address.postalCode.toUpperCase()} {order.address.country}\n      <br />\n    </StyledAddress>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledTotal = styled.p`\n    margin-top: auto;\n    text-align: right;\n    font-weight: 600;\n`;\n\nconst StyledImg = styled.img`\n  width: var(--md-spacing);\n  object-fit: contain;\n`;\n\nconst StyledItems = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: space-between;\n    width: 14rem;\n    border-right: 2px solid var(--gray-20);\n    padding-right: var(--base-spacing);\n`;\n\nconst StyledLi = styled.li`\n  display: flex;\n  gap: var(--base-spacing);\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst StyledUl = styled.ul`\n`;\n\nexport default function OrderItems({ order }) {\n  return (\n    <StyledItems>\n      <StyledUl>\n        {order.items.map((item) => (\n          <StyledLi key={item.type}>\n            <StyledImg src={`https://zircus.netlify.app${item.image}`} />\n            <span>{item.type} x{item.quantity}</span>\n          </StyledLi>\n        ))}\n      </StyledUl>\n      <StyledTotal>total ${order.total.toFixed(2)}</StyledTotal>\n    </StyledItems>\n  );\n}\n","export default function Trash() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"3 6 5 6 21 6\"></polyline>\n      <path\n        d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n      >\n      </path>\n    </svg>\n  );\n}\n","import Trash from \"../Icons/Trash.js\";\n\nexport default function DeleteButton({ onClick }) {\n  return (\n    <button\n      type=\"button\"\n      className=\"button danger icon-button outline\"\n      onClick={onClick}\n    >\n      <Trash />\n    </button>\n  );\n}\n","import styled from \"styled-components\";\nimport { deleteOrder, updateOrder } from \"../../services/services.js\";\nimport OrderAddress from \"./OrderAddress.js\";\nimport MediumHeader from \"../Text/MediumHeader.js\";\nimport OrderItems from \"./OrderItems.js\";\nimport Label from \"../Text/Label.js\";\nimport DeleteButton from \"../Buttons/DeleteButton.js\";\nimport { getLabel } from \"../../services/services.js\";\n\nconst StyledLi = styled.li`\n  margin: 0 auto;\n  display: flex;\n  gap: var(--base-spacing);\n  padding: var(--base-spacing);\n  width: 100%;\n  background-color: var(--gray-10);\n  border-right: var(--base-unit) solid;\n  border-top: 2px solid var(--gray-30);\n  border-left: 2px solid var(--gray-30);\n  border-bottom: 2px solid var(--gray-30);\n  border-right-color: ${props =>\n    props.hasPaid && props.hasShipped\n      ? \"var(--green)\"\n      : props.hasPaid\n      ? \"var(--yellow)\"\n      : \"var(--gray-30)\"};\n\n  &:hover {\n    background-color: var(--gray-05);\n  }\n`;\n\nconst StyledActions = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  gap: var(--base-unit);\n`;\n\nconst StyledBtnContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n  flex-grow: 1;\n`;\n\nexport default function Order({ order, setShowModal, setOrders, notify }) {\n  const handleDeleteFailure = ({ error }) =>\n    notify(`Error: ${error}`, \"red\") && console.log(error);\n  const handleDelete = () => {\n    setShowModal({\n      heading: \"Confirm deletion\",\n      text: `Delete ${order.name}'s order?'`,\n      color: \"danger\",\n      btnText: \"Delete\",\n      ok: choice => {\n        if (choice) {\n          deleteOrder(order.id).catch(handleDeleteFailure);\n        }\n      },\n    });\n  };\n\n  const updatePaid = () => {\n    setShowModal({\n      heading: \"Confirm status change\",\n      text: `Change ${order.name}'s order status to ${\n        order.hasPaid ? \"not paid\" : \"paid\"\n      }?'`,\n      color: order.hasPaid ? \"danger\" : \"positive\",\n      btnText: \"Change\",\n      ok: choice => {\n        if (choice) {\n          setOrders(orders =>\n            orders.map(o =>\n              o.id === order.id ? { ...o, hasPaid: !o.hasPaid } : o\n            )\n          );\n          updateOrder({\n            id: order.id,\n            updatedAttributes: {\n              hasPaid: !order.hasPaid,\n            },\n          }).catch(e => console.log(e));\n        }\n      },\n    });\n  };\n\n  const updateShipped = () => {\n    setShowModal({\n      heading: \"Confirm status change\",\n      text: `Change ${order.name}'s order status to ${\n        order.hasShipped ? \"not shipped\" : \"shipped\"\n      }?'`,\n      color: order.hasShipped ? \"danger\" : \"positive\",\n      btnText: \"Change\",\n      ok: choice => {\n        if (choice) {\n          setOrders(orders =>\n            orders.map(o =>\n              o.id === order.id ? { ...o, hasShipped: !o.hasShipped } : o\n            )\n          );\n          updateOrder({\n            id: order.id,\n            updatedAttributes: {\n              hasShipped: !order.hasShipped,\n            },\n          }).catch(e => console.log(e));\n        }\n      },\n    });\n  };\n\n  const handleLabel = async url => {\n    const result = await getLabel(url);\n    const fileURL = window.URL.createObjectURL(new Blob([result]));\n    const fURL = document.createElement(\"a\");\n    fURL.href = fileURL;\n    fURL.setAttribute(\"download\", `${order.orderId}.pdf`);\n    document.body.appendChild(fURL);\n    fURL.click();\n    fURL.remove();\n  };\n\n  return (\n    <StyledLi hasPaid={order.hasPaid} hasShipped={order.hasShipped}>\n      <OrderItems order={order} />\n      <OrderAddress order={order} />\n      <StyledActions>\n        <MediumHeader>\n          {new Date(order.createdOn).toLocaleString(\"en-US\")}\n        </MediumHeader>\n        <Label>\n          paid:\n          <input\n            type=\"checkbox\"\n            checked={order.hasPaid}\n            onChange={updatePaid}\n          />\n        </Label>\n        <Label>\n          shipped:\n          <input\n            type=\"checkbox\"\n            checked={order.hasShipped}\n            onChange={updateShipped}\n          />\n        </Label>\n        <Label>\n          <button\n            type=\"button\"\n            className=\"button\"\n            onClick={() => handleLabel(order.shipping.shipment.label)}\n          >\n            get label\n          </button>\n        </Label>\n        <StyledBtnContainer>\n          <DeleteButton onClick={handleDelete} />\n        </StyledBtnContainer>\n      </StyledActions>\n    </StyledLi>\n  );\n}\n","export default function FilterIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polygon points=\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"></polygon>\n    </svg>\n  );\n}\n","import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport Label from \"../Text/Label.js\";\nimport FilterIcon from \"./FilterIcon.js\";\n\nconst StyledFiltersContainer = styled.div`\n    padding: var(--base-unit) calc(var(--base-unit) * 2);\n    background-color: var(--dgray-90);\n    border-radius: var(--radius);\n    display: flex;\n    align-items: center;\n    justify-content: space-evenly;\n    gap: var(--base-spacing);\n    height: 3rem;\n    color: var(--gray-10);\n    box-shadow: var(--box-shadow-sm);\n`;\n\nconst StyledFilters = styled.div`\n    display: flex;\n    gap: var(--base-spacing);\n`;\n\nconst StyledButton = styled.button`\n  background: var(--dgray-80);\n  border-radius: var(--radius);\n  color: var(--gray-10);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  width: 3rem;\n  height: 3rem;\n  cursor: pointer;\n  box-shadow: var(--box-shadow-sm);\n\n  :hover {\n    background-color: var(--dgray-50);\n  }\n\n  svg {\n    padding: var(--base-unit);\n  }\n`;\n\nconst StyledContainer = styled.div`\n    position: fixed;\n    right: calc(var(--base-spacing) + 15px);\n    bottom: var(--base-spacing);\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n`;\n\nexport default function Filter({ filters, dateStart, dateEnd }) {\n  const [showFilters, setShowFilters] = useState(false);\n  return (\n    <StyledContainer>\n      <StyledButton\n        onClick={() => setShowFilters((state) => !state)}\n        title=\"Show / hide filters\"\n      >\n        <FilterIcon />\n      </StyledButton>\n      {showFilters &&\n        <StyledFiltersContainer>\n          <Label htmlFor=\"dateStart\">\n            <span>date start</span>\n            <input {...dateStart} id=\"dateStart\" />\n          </Label>\n          <Label htmlFor=\"dateEnd\">\n            <span>date end</span>\n            <input {...dateEnd} id=\"dateEnd\" />\n          </Label>\n          <StyledFilters>\n            {filters &&\n              filters.map((filter, i) => (\n                <Label\n                  htmlFor={`filter-${i}`}\n                  key={filter.text}\n                  active={filter.active}\n                >\n                  {filter.text}\n                  <input\n                    checked={filter.active}\n                    onChange={filter.setActive}\n                    type=\"checkbox\"\n                    id={`filter-${i}`}\n                  />\n                </Label>\n              ))}\n          </StyledFilters>\n        </StyledFiltersContainer>}\n    </StyledContainer>\n  );\n}\n","import { useState } from \"react\";\nimport Order from \"./Order.js\";\nimport Filter from \"../Filter/Filter.js\";\nimport Page from \"../Containers/Page.js\";\nimport List from \"../Containers/List.js\";\nimport { useField } from \"../../hooks/hooks.js\";\n\nexport default function Orders({ orders, setShowModal, setOrders, notify }) {\n  const [dateStart] = useField(\"date\", \"\");\n  const [dateEnd] = useField(\"date\", \"\");\n  const [showShipped, setShowShipped] = useState(false);\n  const [showPaid, setShowPaid] = useState(true);\n  const filters = [\n    {\n      active: showShipped,\n      text: \"shipped\",\n      setActive: () => setShowShipped(state => !state),\n    },\n    {\n      active: showPaid,\n      text: \"paid\",\n      setActive: () => setShowPaid(state => !state),\n    },\n  ];\n\n  const filterDates = order => {\n    const start = dateStart.value;\n    const end = dateEnd.value;\n    if (!start && !end) return true;\n    const orderTime = new Date(order.createdOn).getTime();\n    if (!start) {\n      return orderTime <= new Date(end).getTime();\n    }\n    if (!end) {\n      return orderTime >= new Date(start).getTime();\n    }\n    return (\n      orderTime >= new Date(start).getTime() &&\n      orderTime <= new Date(end).getTime()\n    );\n  };\n  const filterPaid = order => order.hasPaid === showPaid;\n  const filterShipped = order => order.hasShipped === showShipped;\n  const ordersToShow =\n    orders &&\n    orders.filter(filterPaid).filter(filterShipped).filter(filterDates);\n\n  return (\n    <Page padTop={true}>\n      <Filter filters={filters} dateStart={dateStart} dateEnd={dateEnd} />\n      <List gap={true}>\n        {orders &&\n          ordersToShow.map(order => (\n            <Order\n              notify={notify}\n              order={order}\n              key={order.id}\n              setShowModal={setShowModal}\n              setOrders={setOrders}\n            />\n          ))}\n      </List>\n    </Page>\n  );\n}\n","import styled from \"styled-components\";\nimport MediumHeader from \"../Text/MediumHeader.js\";\nimport DeleteButton from \"../Buttons/DeleteButton.js\";\nimport { useState } from \"react\";\nimport { deleteMessage } from \"../../services/services.js\";\n\nconst StyledLi = styled.li`\n  margin: 0 auto;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: var(--md-spacing);\n  padding: var(--base-spacing);\n  width: 100%;\n  background-color: var(--gray-10);\n  border: 2px solid var(--gray-30);\n\n  &:hover {\n    background-color: var(--gray-05);\n  }\n`;\n\nconst StyledDiv = styled.div`\n  display: flex;\n  max-width: 22vw;\n  width: 100%;\n  flex-flow: column nowrap;\n`;\n\nconst StyledActions = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: flex-end;\n  align-items: flex-end;\n  flex-grow: 1;\n`;\n\nconst StyledText = styled.p`\n  max-width: 75ch;\n  width: 100%;\n`;\n\nconst StyledA = styled.a`\n  text-decoration: none;\n  padding: var(--base-unit);\n  color: var(--link);\n\n  &:hover,\n  &:focus {\n    text-decoration: none !important;\n    color: var(--link-hover);\n  }\n`;\n\nexport default function Message({\n  message,\n  setShowModal,\n  setMessages,\n  notify,\n}) {\n  const [showFull, setShowFull] = useState(false);\n  const handleDeleteSuccess = ({ response }) => {\n    setMessages(messages => messages.filter(m => m.id !== message.id));\n    notify(`${response}: Deleted ${message.name}'s message`, \"red\");\n  };\n  const handleDeleteFailure = ({ error }) => notify(`${error}`, \"red\");\n  const handleDelete = () => {\n    setShowModal({\n      heading: \"Confirm deletion\",\n      text: `Delete ${message.name}'s message?'`,\n      color: \"danger\",\n      btnText: \"Delete\",\n      ok: choice => {\n        if (choice) {\n          deleteMessage(message.id)\n            .then(handleDeleteSuccess)\n            .catch(handleDeleteFailure);\n        }\n      },\n    });\n  };\n\n  return (\n    <StyledLi>\n      <StyledDiv>\n        <MediumHeader>{message.name}</MediumHeader>\n        <a href={`mailto:${message.email}`}>{message.email}</a>\n      </StyledDiv>\n      <StyledText>\n        {showFull ? message.message : message.message.substring(0, 140)}\n        {message.message.length > 140 && (\n          <StyledA href=\"#\" onClick={() => setShowFull(state => !state)}>\n            {showFull ? \"(less)\" : \"... (more)\"}\n          </StyledA>\n        )}\n      </StyledText>\n      <StyledActions>\n        <DeleteButton onClick={() => handleDelete()} />\n      </StyledActions>\n    </StyledLi>\n  );\n}\n","import Page from \"../Containers/Page.js\";\nimport List from \"../Containers/List.js\";\nimport Message from \"./Message.js\";\n\nexport default function Messages({\n  messages,\n  setShowModal,\n  setMessages,\n  notify,\n}) {\n  return (\n    <Page>\n      <List gap={true}>\n        {messages &&\n          messages.map(message => (\n            <Message\n              notify={notify}\n              setMessages={setMessages}\n              key={message.id}\n              message={message}\n              setShowModal={setShowModal}\n            />\n          ))}\n      </List>\n    </Page>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledDiv = styled.div`\n    position: fixed;\n    top: calc(var(--base-unit) + 4rem);\n    right: calc(var(--base-unit) + 15px); // for scrollbar\n    width: 22rem;\n    background-color: ${(props) =>\n  props.look === \"red\"\n    ? \"var(--red);\"\n    : props.look === \"green\"\n    ? \"var(--green);\"\n    : \"var(--gray-30);\"}\n    z-index: 100;\n    border-radius: var(--radius);\n    opacity: 0.95;\n    box-shadow: var(--box-shadow-sm);\n    animation: 0.2s ease-out forwards fadeDown;\n`;\n\nconst StyledP = styled.p`\n    color: var(--gray-20);\n    margin: var(--base-spacing);\n    font-size: var(--small-font-size);\n    font-weight: 600;\n`;\n\nexport default function Notification({ notification }) {\n  return (\n    <StyledDiv look={notification.style}>\n      <StyledP>{notification.text}</StyledP>\n    </StyledDiv>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState } from \"react\";\nimport Header from \"./components/Header/Header.js\";\nimport SideNav from \"./components/SideNav/SideNav.js\";\nimport Inventory from \"./components/Inventory/Inventory.js\";\nimport Metrics from \"./components/Metrics/Metrics.js\";\nimport Orders from \"./components/Orders/Orders.js\";\nimport Messages from \"./components/Messages/Messages.js\";\nimport Notification from \"./components/Notification/Notification.js\";\n\nconst StyledDashboard = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  padding-top: 4rem;\n  padding-left: ${props => (props.showFull ? \"14rem\" : \"4rem\")};\n  height: 100vh;\n  overflow: hidden;\n`;\n\nexport default function Dashboard({\n  inv,\n  orders,\n  setShowModal,\n  logout,\n  setOrders,\n  setInv,\n  user,\n  messages,\n  setMessages,\n  notify,\n  notification,\n}) {\n  const [page, setPage] = useState(\"metrics\");\n  const [showFull, setShowFull] = useState(true);\n  const numOrders = orders ? orders.length : 0;\n  const numMessages = messages ? messages.length : 0;\n  const reduceFn = (inv, fn) => inv.reduce((acc, item) => acc + fn(item), 0);\n  const qty = item => item.quantity;\n  const numInv = inv ? reduceFn(inv, qty) : 0;\n\n  return (\n    <StyledDashboard showFull={showFull}>\n      <Header text=\"Zircus Admin Dashboard\" logout={logout} user={user} />\n      <SideNav\n        page={page}\n        setPage={setPage}\n        orders={numOrders}\n        inv={numInv}\n        showFull={showFull}\n        setShowFull={setShowFull}\n        messages={numMessages}\n      />\n      {notification && <Notification notification={notification} />}\n      {page === \"inventory\" && (\n        <Inventory inv={inv} setShowModal={setShowModal} setInv={setInv} />\n      )}\n      {page === \"orders\" && (\n        <Orders\n          orders={orders}\n          setShowModal={setShowModal}\n          setOrders={setOrders}\n          notify={notify}\n        />\n      )}\n      {page === \"metrics\" && (\n        <Metrics\n          orders={orders}\n          setShowModal={setShowModal}\n          inv={inv}\n          messages={messages}\n        />\n      )}\n      {page === \"messages\" && (\n        <Messages\n          messages={messages}\n          setMessages={setMessages}\n          setShowModal={setShowModal}\n          notify={notify}\n        />\n      )}\n    </StyledDashboard>\n  );\n}\n","import { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledBlur = styled.div`\n  ${props => props.showModal && \"filter: blur(0.25rem)\"};\n`;\n\nconst StyledBlock = styled.div`\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  position: fixed;\n`;\n\nconst StyledModal = styled.section`\n  position: fixed;\n  display: flex;\n  flex-flow: column nowrap;\n  gap: 1rem;\n  backgroud-color: var(--gray-90);\n  top: calc(25%);\n  left: calc(50% - 15rem);\n  width: 30rem;\n  min-height: 15rem;\n  background-color: var(--gray-10);\n  border-radius: var(--big-radius);\n  border: 2px solid var(--dgray-90);\n  padding: var(--base-spacing);\n`;\n\nconst StyledText = styled.p`\n  flex-grow: 1;\n`;\n\nconst StyledButtons = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  width: 100%;\n  gap: 1rem;\n`;\n\nconst StyledButton = styled.button`\n  flex-grow: 1;\n`;\n\nexport default function Modal({ children, showModal, setShowModal }) {\n  const cancelBtn = useRef();\n\n  const ok = () => {\n    showModal.ok(true);\n    setShowModal(null);\n  };\n  const cancel = () => {\n    showModal.ok(false);\n    setShowModal(null);\n  };\n\n  useEffect(() => {\n    showModal && cancelBtn.current.focus();\n  });\n\n  return (\n    <div>\n      <StyledBlur showModal={showModal}>\n        {children}\n        {showModal && <StyledBlock></StyledBlock>}\n      </StyledBlur>\n      {showModal && (\n        <StyledModal>\n          <h2>{showModal.heading}</h2>\n          <StyledText>{showModal.text}</StyledText>\n          <StyledButtons>\n            <StyledButton\n              className={`${showModal.color} button`}\n              type=\"button\"\n              onClick={ok}\n            >\n              {showModal.btnText || \"Ok\"}\n            </StyledButton>\n            <StyledButton\n              className=\"button outline\"\n              type=\"button\"\n              onClick={cancel}\n              ref={cancelBtn}\n            >\n              Cancel\n            </StyledButton>\n          </StyledButtons>\n        </StyledModal>\n      )}\n    </div>\n  );\n}\n","import Login from \"./Login.js\";\nimport Dashboard from \"./Dashboard.js\";\nimport Modal from \"./components/Modal/Modal.js\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { getInv, getMessages, getOrders } from \"./services/services.js\";\nimport { WebsocketContext } from \"./services/Websocket.js\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n  const [inv, setInv] = useState([]);\n  const [messages, setMessages] = useState(null);\n  const [orders, setOrders] = useState(null);\n  const [showModal, setShowModal] = useState(null);\n  const [notification, setNotification] = useState(null);\n  const [websocketId, setWebsocketId] = useState(-1);\n  const { addListener, removeListener } = useContext(WebsocketContext);\n\n  const updateMessages = ({ text, color }) => {\n    notify(text, color);\n    getMessages()\n      .then(reply => setMessages(reply.messages))\n      .catch(() => setMessages(null));\n  };\n\n  const updateOrders = ({ text, color }) => {\n    notify(text, color);\n    getInv()\n      .then(reply => setInv(reply))\n      .catch(() => setInv([]));\n    getOrders()\n      .then(reply => setOrders(reply))\n      .catch(() => setOrders(null));\n  };\n\n  const initWebsocketListener = () => {\n    const websocketListenerId = addListener(message => {\n      if (!token) return;\n      switch (message.type) {\n        case \"message\":\n          return updateMessages({\n            text: `New message from ${message.data.name}`,\n            color: \"green\",\n          });\n        case \"pending order\":\n          return updateOrders({\n            text: `Pending order from ${message.data.name}`,\n            color: \"gray\",\n          });\n        case \"paid order\":\n          return updateOrders({\n            text: `Paid order from ${message.data.name}`,\n            color: \"green\",\n          });\n        case \"deleted order\":\n          return updateOrders({\n            text: `${message.data.response}: Inventory updated`,\n            color: \"green\",\n          });\n        default:\n          console.error(`Unknown message type: ${message.type}`);\n      }\n    });\n    setWebsocketId(websocketListenerId);\n  };\n\n  const onComponentDestroy = () => {\n    removeListener(websocketId);\n    setWebsocketId(-1);\n  };\n\n  const notify = (text, style) => {\n    if (notification && notification.self) clearTimeout(notification.self);\n    const self = setTimeout(() => setNotification(null), 4500);\n    setNotification({ text, style, self });\n  };\n\n  const logout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n  };\n\n  useEffect(() => {\n    getInv()\n      .then(reply => setInv(reply))\n      .catch(() => setInv([]));\n    if (token !== null) {\n      getOrders()\n        .then(reply => {\n          setOrders(reply);\n        })\n        .catch(() => setOrders(null));\n      getMessages()\n        .then(reply => setMessages(reply.messages))\n        .catch(() => setMessages(null));\n    }\n    initWebsocketListener();\n    return onComponentDestroy;\n  }, [setInv, token]);\n\n  return (\n    <Modal showModal={showModal} setShowModal={setShowModal}>\n      {token ? (\n        <Dashboard\n          notification={notification}\n          notify={notify}\n          inv={inv}\n          orders={orders}\n          logout={logout}\n          setShowModal={setShowModal}\n          setOrders={setOrders}\n          setInv={setInv}\n          user={user}\n          messages={messages}\n          setMessages={setMessages}\n        />\n      ) : (\n        <Login setUser={setUser} setToken={setToken} />\n      )}\n    </Modal>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { WebsocketProvider } from \"./services/Websocket.js\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <WebsocketProvider>\n      <App />\n    </WebsocketProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}