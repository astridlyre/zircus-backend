(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(17),r=n.n(s),i=n(2),o=n(5),l=n(4),u=n.n(l),j=n(6),b=n(7),d=n.n(b),h="http://localhost:3000/api";function O(e,t){return m.apply(this,arguments)}function m(){return(m=Object(j.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("".concat(h,"/login"),{username:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(h,"/inv"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat(h,"/inv"),t,{headers:{Authorization:"Bearer ".concat(n)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){var a=Object(c.useState)(t),s=Object(i.a)(a,2),r=s[0],o=s[1];return[{type:e,value:r,onChange:function(e){return o(e.target.value)},placeholder:n},function(){return o(t)}]}var _=n(0);function y(e){var t=e.setToken,n=e.setUser,a=Object(c.useState)(!1),s=Object(i.a)(a,2),r=s[0],l=s[1],b=v("text","","Enter username"),d=Object(i.a)(b,1)[0],h=v("password","","Enter password"),m=Object(i.a)(h,1)[0],x=function(){l(!0),setTimeout((function(){l(!1)}),2e3)},p=function(e){var c=e.data;n(c.name),t(c.token),localStorage.setItem("user",c.name),localStorage.setItem("token",c.token)},f=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),O(d.value,m.value).then(p).catch(x);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=localStorage.getItem("token"),c=localStorage.getItem("user");e&&t(e),c&&n(c)}),[t,n]),Object(_.jsx)("div",{className:"flex-col login__body",children:Object(_.jsxs)("main",{className:"login",children:[Object(_.jsx)("h1",{className:"page__heading",children:"Zircus Admin"}),Object(_.jsx)("p",{className:"page__subheading",id:"login-message",children:r?"Login failed":"Please Log in:"}),Object(_.jsxs)("form",{className:"flex-col",id:"login-form",onSubmit:f,children:[Object(_.jsxs)("label",{htmlFor:"username",children:[Object(_.jsx)("span",{children:"Username"}),Object(_.jsx)("input",Object(o.a)(Object(o.a)({},d),{},{disabled:!!r}))]}),Object(_.jsxs)("label",{htmlFor:"password",children:[Object(_.jsx)("span",{children:"Password"}),Object(_.jsx)("input",Object(o.a)(Object(o.a)({},m),{},{disabled:!!r}))]}),Object(_.jsx)("button",{type:"submit",disabled:!!r,children:r?"Please wait":"Log in"})]})]})})}function g(e){var t=e.text,n=e.logout;return Object(_.jsxs)("header",{className:"dashboard__header",children:[Object(_.jsx)("h3",{children:t}),Object(_.jsx)("button",{type:"button",onClick:n,children:"logout"})]})}function k(){return Object(_.jsx)("nav",{className:"dashboard__nav",children:Object(_.jsxs)("ul",{className:"dashboard__nav__links",children:[Object(_.jsx)("li",{className:"dashboard__nav__links__link",children:Object(_.jsx)("a",{href:"#",children:"Inventory"})}),Object(_.jsx)("li",{className:"dashboard__nav__links__link",children:Object(_.jsx)("a",{href:"#",children:"Orders"})}),Object(_.jsx)("li",{className:"dashboard__nav__links__link",children:Object(_.jsx)("a",{href:"#",children:"Metrics"})})]})})}function N(){return Object(_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon",children:[Object(_.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),Object(_.jsx)("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),Object(_.jsx)("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),Object(_.jsx)("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),Object(_.jsx)("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),Object(_.jsx)("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),Object(_.jsx)("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),Object(_.jsx)("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]})}function w(){return Object(_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon",children:[Object(_.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object(_.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}function S(e){var t=e.item,n=e.token,a=Object(c.useState)(t.quantity),s=Object(i.a)(a,2),r=s[0],l=s[1],u=Object(c.useState)(t.active),j=Object(i.a)(u,2),b=j[0],d=j[1];return Object(_.jsxs)("li",{className:"inventory__item",children:[Object(_.jsx)("img",{src:"https://zircus.netlify.app/".concat(t.images.sm_a),alt:t.name,className:"inventory__item__img"}),Object(_.jsx)("h4",{className:"inventory__item__name",children:t.name}),Object(_.jsxs)("div",{className:"inventory__item__desc",children:[Object(_.jsx)("span",{className:"inventory__item__size",children:t.size}),Object(_.jsx)("span",{className:"inventory__item__color",children:t.color})]}),Object(_.jsxs)("label",{htmlFor:"item-quantity",children:[Object(_.jsx)("span",{className:"item-quantity-label",children:"quantity"}),Object(_.jsx)("input",{min:"0",step:"1",className:"item-quantity-input",type:"number",value:r,onChange:function(e){l(e.target.value),p(Object(o.a)(Object(o.a)({},t),{},{quantity:Number(e.target.value)}),n).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))}})]}),Object(_.jsxs)("label",{htmlFor:"active",children:[Object(_.jsx)("span",{className:"active-label",children:"active"}),Object(_.jsx)("input",{type:"checkbox",className:"item-isactive-input",checked:!!b,onChange:function(){p(Object(o.a)(Object(o.a)({},t),{},{active:!b}),n).then((function(e){return d(e.data.active)})).catch((function(e){return console.log(e)}))}})]}),Object(_.jsx)("button",{type:"button",className:"remove-button",children:Object(_.jsx)(w,{})})]})}function C(e){var t=e.inv,n=e.token,a=e.logout,s=Object(c.useState)(!0),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(c.useState)(!0),j=Object(i.a)(u,2),b=j[0],d=j[1],h=Object(c.useState)(!0),O=Object(i.a)(h,2),m=O[0],x=O[1];return Object(_.jsxs)("div",{className:"dashboard",children:[Object(_.jsx)(g,{text:"Zircus Admin Dashboard",logout:a}),Object(_.jsx)(k,{}),Object(_.jsxs)("main",{className:"dashboard__main",children:[Object(_.jsxs)("div",{id:"inventory-items-filters",className:"inventory__filters",children:[Object(_.jsx)("h4",{children:"Filter by"}),Object(_.jsx)("button",{type:"button",className:o?"active":"",onClick:function(){return l(!o)},children:"Flat Front"}),Object(_.jsx)("button",{type:"button",className:b?"active":"",onClick:function(){return d(!b)},children:"Pouch Front"}),Object(_.jsx)("button",{type:"button",className:m?"active":"",onClick:function(){return x(!m)},children:"Compression Front"})]}),Object(_.jsxs)("ul",{className:"inventory__items",id:"inventory-items",children:[t&&o&&t.ff.map((function(e){return Object(_.jsx)(S,{item:e,token:n},e.id)})),t&&b&&t.pf.map((function(e){return Object(_.jsx)(S,{item:e,token:n},e.id)})),t&&m&&t.cf.map((function(e){return Object(_.jsx)(S,{item:e,token:n},e.id)})),!t&&Object(_.jsx)("li",{id:"spinner",className:"spinner",children:Object(_.jsx)(N,{})})]})]})]})}var F=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=(t[0],t[1]),a=Object(c.useState)(null),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),j=u[0],b=u[1];return Object(c.useEffect)((function(){(function(){return x.apply(this,arguments)})().then((function(e){return b(e.data)})).catch((function(){return b(null)}))}),[b]),r?Object(_.jsx)(C,{inv:j,token:r,logout:function(){n(null),o(null),localStorage.removeItem("user"),localStorage.removeItem("token")}}):Object(_.jsx)(y,{setUser:n,setToken:o})};n(42);r.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(F,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.9ad264ad.chunk.js.map