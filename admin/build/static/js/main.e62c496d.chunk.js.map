{"version":3,"sources":["services/services.js","hooks/hooks.js","services/Websocket.js","Login.js","components/Icons/UserIcon.js","components/Header/Header.js","components/Icons/RightIcon.js","components/Icons/LeftIcon.js","components/Icons/InventoryIcon.js","components/Icons/OrdersIcon.js","components/Icons/MetricsIcon.js","components/Icons/MessagesIcon.js","components/SideNav/SideNavButton.js","components/SideNav/SideNav.js","components/Text/Label.js","components/Icons/Trash.js","components/Buttons/DeleteButton.js","components/Inventory/InventoryItem.js","components/Icons/Spinner.js","components/Filter/Filter.js","components/Containers/Page.js","components/Containers/List.js","components/Inventory/Inventory.js","components/Metrics/OrdersChart.js","components/Metrics/Metrics.js","components/Text/MediumHeader.js","components/Orders/OrderAddress.js","components/Orders/OrderItems.js","components/Orders/Order.js","components/Orders/Orders.js","components/Messages/Message.js","components/Messages/Messages.js","components/Notification/Notification.js","Dashboard.js","components/Modal/Modal.js","App.js","index.js"],"names":["authHeader","token","headers","Authorization","API_ENDPOINT","login","username","password","a","axios","post","getInv","get","getOrders","updateOrder","order","put","id","delete","item","getMessages","useField","type","initial","placeholder","useState","value","setFieldVal","onChange","e","target","listeners","WebsocketContext","React","createContext","WebsocketProvider","children","websocket","useRef","autoReconnectInterval","initializeWebSocket","current","WebSocket","onopen","console","debug","onmessage","msg","decodedMessage","JSON","parse","data","handleMessage","onclose","code","reconnectToWebSocket","onerror","err","error","setTimeout","Math","min","forEach","x","messageHandler","Provider","disconnectWebSocket","close","addListener","length","push","removeListener","filter","l","StyledLogin","Consumer","styled","main","StyledForm","form","StyledLabel","label","StyledMessage","p","props","failedLogin","StyledButton","button","Login","setToken","setUser","setFailedLogin","usernameInput","passwordInput","useContext","handleFailedLogin","handleSuccessfulLogin","name","localStorage","setItem","handleSubmit","preventDefault","then","catch","useEffect","storedToken","getItem","storedUser","onSubmit","htmlFor","disabled","className","UserIcon","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","StyledHeader","header","StyledH3","h3","StyledName","span","Header","text","logout","user","split","onClick","RightIcon","points","LeftIcon","InventoryIcon","x1","y1","x2","y2","OrdersIcon","MetricsIcon","MessagesIcon","showFull","SideNavButton","active","page","num","setPage","StyledNav","nav","StyledUl","ul","StyledLi","li","StyledNavButton","SideNav","inv","orders","setShowFull","messages","Label","Trash","DeleteButton","StyledImg","img","StyledAttr","grow","InventoryItem","setInv","handler","key","fn","event","prefix","map","i","updateItem","log","handleQuantity","t","Number","handleActive","checked","handlePrice","src","images","sm_a","alt","en","size","color","step","price","quantity","Spinner","StyledFiltersContainer","div","StyledFilters","Filter","filters","setActive","StyledPage","padTop","pad","Page","StyledList","gap","List","Inventory","showFF","setShowFF","showPF","setShowPF","showCF","setShowCF","ff","pf","cf","OrdersChart","date","Date","createdOn","toLocaleDateString","total","LineChart","width","height","Line","dataKey","CartesianGrid","XAxis","YAxis","StyledContainer","flow","StyledBubble","StyledOrdersNum","StyledItems","Metrics","invFlat","Object","values","flat","StyledText","MediumHeader","StyledAddress","address","OrderAddress","href","email","phone","replaceAll","line1","line2","city","state","postalCode","toUpperCase","country","StyledTotal","OrderItems","items","toFixed","hasPaid","hasShipped","StyledActions","StyledBtnContainer","Order","setShowModal","setOrders","notify","handleDeleteFailure","toLocaleString","o","updatedAttributes","heading","btnText","ok","choice","deleteOrder","StyledLabelContainer","Orders","dateStart","dateEnd","setFilter","includes","f","concat","ordersToShow","StyledDiv","StyledA","Message","message","setMessages","handleDeleteSuccess","m","response","handleDelete","deleteMessage","substring","Messages","look","StyledP","Notification","notification","style","StyledDashboard","Dashboard","numOrders","numMessages","reduceFn","reduce","acc","qty","numInv","StyledBlur","showModal","StyledBlock","StyledModal","section","StyledButtons","Modal","cancelBtn","focus","ref","App","setNotification","websocketId","setWebsocketId","updateOrders","reply","initWebsocketListener","websocketListenerId","updateMessages","onComponentDestroy","self","clearTimeout","removeItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e62c496d.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst authHeader = (token) => ({\n  headers: {\n    Authorization: `Bearer ${token}`,\n  },\n});\n\nconst API_ENDPOINT = \"https://zircus.herokuapp.com/api\";\n// const API_ENDPOINT = 'http://localhost:3000/api'\n\nexport async function login(username, password) {\n  return await axios.post(`${API_ENDPOINT}/login`, {\n    username,\n    password,\n  });\n}\n\nexport async function getInv() {\n  return await axios.get(`${API_ENDPOINT}/inv`);\n}\n\nexport async function getOrders(token) {\n  return await axios.get(`${API_ENDPOINT}/orders`, authHeader(token));\n}\n\nexport async function updateOrder(order, token) {\n  return await axios.put(\n    `${API_ENDPOINT}/orders/${order.id}`,\n    order,\n    authHeader(token),\n  );\n}\n\nexport async function deleteOrder(id, token) {\n  return await axios.delete(`${API_ENDPOINT}/orders/${id}`, authHeader(token));\n}\n\nexport async function updateItem(item, token) {\n  return await axios.put(`${API_ENDPOINT}/inv`, item, authHeader(token));\n}\n\nexport async function getMessages(token) {\n  return await axios.get(`${API_ENDPOINT}/message`, authHeader(token));\n}\n\nexport async function deleteMessage(id, token) {\n  return await axios.delete(\n    `${API_ENDPOINT}/message/${id}`,\n    authHeader(token),\n  );\n}\n","import { useState } from \"react\";\n\nexport function useField(type, initial, placeholder) {\n  const [value, setFieldVal] = useState(initial);\n  return [\n    {\n      type,\n      value,\n      onChange: (e) => setFieldVal(e.target.value),\n      placeholder,\n    },\n    () => setFieldVal(initial),\n  ];\n}\n","import React, { useRef } from \"react\";\n\nconst WS_ENDPOINT = \"wss://zircus.herokuapp.com\";\n// const WS_ENDPOINT = 'ws://localhost:3000'\n\nlet listeners = [];\n\nconst WebsocketContext = React.createContext();\n\nconst WebsocketProvider = ({ children }) => {\n  const websocket = useRef(null);\n  let autoReconnectInterval = 250;\n\n  const initializeWebSocket = () => {\n    websocket.current = new WebSocket(WS_ENDPOINT);\n    websocket.current.onopen = () => {\n      console.debug(\"Websocket connection open\");\n      autoReconnectInterval = 250;\n    };\n    websocket.current.onmessage = (msg) => {\n      const decodedMessage = JSON.parse(msg.data);\n      handleMessage(decodedMessage);\n    };\n    websocket.current.onclose = (e) => {\n      switch (e.code) {\n        case 1000:\n          console.debug(\"Websocket closed normally\");\n          break;\n        default:\n          autoReconnectInterval += autoReconnectInterval;\n          reconnectToWebSocket(autoReconnectInterval);\n      }\n    };\n    websocket.current.onerror = (err) => {\n      switch (err.code) {\n        case \"ECONNREFUSED\":\n          autoReconnectInterval = autoReconnectInterval +=\n            autoReconnectInterval;\n          reconnectToWebSocket(autoReconnectInterval);\n          break;\n        default:\n          console.error(`Websocket encountered error: ${err}`);\n      }\n    };\n  };\n\n  const reconnectToWebSocket = (autoReconnectInterval) => {\n    const maximumConnectionTimeout = 10000;\n    setTimeout(\n      initializeWebSocket,\n      Math.min(maximumConnectionTimeout, autoReconnectInterval),\n    );\n  };\n\n  const handleMessage = (msg) => {\n    console.debug(`[Websocket-IncomingMessage] `, msg);\n    listeners.forEach((x) => x.messageHandler(msg));\n  };\n\n  const disconnectWebSocket = () => {\n    if (!!websocket.current) websocket.current.close(1000);\n  };\n\n  const addListener = (messageHandler) => {\n    const id = listeners.length;\n    listeners.push({ id, messageHandler });\n    return id;\n  };\n\n  const removeListener =\n    (id) => (listeners = listeners.filter((l) => l.id !== id));\n\n  return (\n    <WebsocketContext.Provider\n      value={{\n        initializeWebSocket,\n        disconnectWebSocket,\n        addListener,\n        removeListener,\n      }}\n    >\n      {children}\n    </WebsocketContext.Provider>\n  );\n};\n\nconst WebsocketConsumer = WebsocketContext.Consumer;\n\nexport { WebsocketConsumer, WebsocketContext, WebsocketProvider };\n","import styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport { login } from \"./services/services.js\";\nimport { useField } from \"./hooks/hooks.js\";\nimport { WebsocketContext } from \"./services/Websocket.js\";\nimport { useContext } from \"react\";\n\nconst StyledLogin = styled.main`\n    width: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n`;\n\nconst StyledForm = styled.form`\n    margin-top: var(--lg-spacing);\n    padding: var(--md-spacing);\n    background-color: var(--gray-20);\n    border-radius: var(--big-radius);\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 0.5rem;\n`;\n\nconst StyledLabel = styled.label`\n    display: flex;\n    flex-flow: column nowrap;\n`;\n\nconst StyledMessage = styled.p`\n    color: ${(props) => (props.failedLogin\n  ? \"var(--red)\"\n  : \"var(--text-color)\")};\n    margin: var(--base-spacing) 0;\n    font-weight: 500;\n`;\n\nconst StyledButton = styled.button`\n    margin-top: 0.5rem;\n`;\n\nexport default function Login({ setToken, setUser }) {\n  const [failedLogin, setFailedLogin] = useState(false);\n  const [usernameInput] = useField(\"text\", \"\");\n  const [passwordInput] = useField(\"password\", \"\");\n  const { initializeWebSocket } = useContext(WebsocketContext);\n\n  const handleFailedLogin = () => {\n    setFailedLogin(true);\n    setTimeout(() => {\n      setFailedLogin(false);\n    }, 2000);\n  };\n\n  const handleSuccessfulLogin = ({ data }) => {\n    setUser(data.name);\n    setToken(data.token);\n    localStorage.setItem(\"user\", data.name);\n    localStorage.setItem(\"token\", data.token);\n    initializeWebSocket();\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    login(usernameInput.value, passwordInput.value)\n      .then(handleSuccessfulLogin)\n      .catch(handleFailedLogin);\n  };\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"token\");\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedToken) setToken(storedToken);\n    if (storedUser) setUser(storedUser);\n    if (storedToken && storedUser) initializeWebSocket();\n  }, [setToken, setUser, initializeWebSocket]);\n\n  return (\n    <StyledLogin>\n      <StyledForm onSubmit={handleSubmit}>\n        <h1>Zircus Admin</h1>\n        <StyledMessage failedLogin={failedLogin}>\n          {failedLogin ? \"Login failed\" : \"Please Log in:\"}\n        </StyledMessage>\n        <StyledLabel htmlFor=\"username\">\n          <span>Username</span>\n          <input\n            {...usernameInput}\n            disabled={failedLogin ? true : false}\n          />\n        </StyledLabel>\n        <StyledLabel htmlFor=\"password\">\n          <span>Password</span>\n          <input\n            {...passwordInput}\n            disabled={failedLogin ? true : false}\n          />\n        </StyledLabel>\n        <StyledButton\n          className=\"button\"\n          type=\"submit\"\n          disabled={failedLogin ? true : false}\n        >\n          {failedLogin ? \"Please wait\" : \"Log in\"}\n        </StyledButton>\n      </StyledForm>\n    </StyledLogin>\n  );\n}\n","export default function UserIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n      <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n    </svg>\n  );\n}\n","import styled from \"styled-components\";\nimport UserIcon from \"../Icons/UserIcon.js\";\n\nconst StyledHeader = styled.header`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 4rem;\n    background: var(--dgray-80);\n    padding: var(--base-spacing);\n`;\n\nconst StyledH3 = styled.h3`\n    color: var(--invert-text-color);\n    font-size: 1.25rem;\n    flex-grow: 1;\n`;\n\nconst StyledName = styled.span`\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n    color: var(--gray-10);\n    margin-right: var(--base-spacing);\n\n    svg {\n        height: 1rem;\n    }\n`;\n\nexport default function Header({ text, logout, user }) {\n  return (\n    <StyledHeader>\n      <StyledH3>{text}</StyledH3>\n      <StyledName>\n        <UserIcon /> {user.split(\" \")[0]}\n      </StyledName>\n      <button\n        className=\"button light outline\"\n        type=\"button\"\n        onClick={logout}\n      >\n        logout\n      </button>\n    </StyledHeader>\n  );\n}\n","export default function RightIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"13 17 18 12 13 7\"></polyline>\n      <polyline points=\"6 17 11 12 6 7\"></polyline>\n    </svg>\n  );\n}\n","export default function LeftIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"11 17 6 12 11 7\"></polyline>\n      <polyline points=\"18 17 13 12 18 7\"></polyline>\n    </svg>\n  );\n}\n","export default function InventoryIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <line x1=\"8\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n      <line x1=\"8\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\n      <line x1=\"8\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\n      <line x1=\"3\" y1=\"6\" x2=\"3.01\" y2=\"6\"></line>\n      <line x1=\"3\" y1=\"12\" x2=\"3.01\" y2=\"12\"></line>\n      <line x1=\"3\" y1=\"18\" x2=\"3.01\" y2=\"18\"></line>\n    </svg>\n  );\n}\n","export default function OrdersIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\"></path>\n      <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n      <path d=\"M16 10a4 4 0 0 1-8 0\"></path>\n    </svg>\n  );\n}\n","export default function MetricsIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\"></polyline>\n      <polyline points=\"17 6 23 6 23 12\"></polyline>\n    </svg>\n  );\n}\n","export default function MessagesIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\">\n      </path>\n    </svg>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledButton = styled.button`\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n    ${(props) => props.showFull && \"gap: calc(var(--base-unit) * 1.5);\"}\n    justify-content: ${(props) => (props.showFull ? \"left\" : \"center\")};\n    ${(props) => !props.showFull && \"padding: var(--input-padding);\"}\n\n    svg {\n        height: 1.25rem;\n    }\n`;\nexport default function SideNavButton({\n  showFull,\n  active,\n  page,\n  num,\n  setPage,\n  children,\n}) {\n  return (\n    <StyledButton\n      showFull={showFull}\n      className={page === active ? \"button\" : \"button outline\"}\n      onClick={() => setPage(active)}\n    >\n      {children}\n      {showFull && `${active} ${num ? `(${num})` : \"\"}`}\n    </StyledButton>\n  );\n}\n","import styled from \"styled-components\";\nimport RightIcon from \"../Icons/RightIcon.js\";\nimport LeftIcon from \"../Icons/LeftIcon.js\";\nimport InventoryIcon from \"../Icons/InventoryIcon.js\";\nimport OrdersIcon from \"../Icons/OrdersIcon.js\";\nimport MetricsIcon from \"../Icons/MetricsIcon.js\";\nimport MessagesIcon from \"../Icons/MessagesIcon.js\";\nimport SideNavButton from \"./SideNavButton.js\";\n\nconst StyledNav = styled.nav`\n    position: fixed;\n    top: 4rem;\n    left: 0;\n    bottom: 0;\n    width: ${(props) => (props.showFull ? \"12rem\" : \"4rem\")};\n    border-right: 2px solid var(--gray-20);\n`;\n\nconst StyledUl = styled.ul`\n    list-style: none;\n    display: flex;\n    gap: var(--base-unit);\n    flex-flow: column nowrap;\n    padding: var(--base-unit) var(--base-unit) 0 var(--base-unit) !important;\n`;\n\nconst StyledLi = styled.li`\n    width: 100%;\n    display: flex;\n`;\n\nconst StyledNavButton = styled.button`\n    width: 100%;\n    padding: var(--base-unit);\n    display: flex;\n    justify-content: ${(props) => (props.showFull ? \"flex-end\" : \"center\")};\n    align-items: center;\n    background: transparent;\n    border: none;\n    outline: none;\n\n    &:hover,\n    &:focus {\n        background-color: var(--gray-20);\n        cursor: pointer;\n    }\n\n    svg {\n        height: 1.5rem;\n    }\n`;\n\nexport default function SideNav({\n  setPage,\n  page,\n  inv,\n  orders,\n  showFull,\n  setShowFull,\n  messages,\n}) {\n  return (\n    <StyledNav showFull={showFull}>\n      <StyledNavButton\n        showFull={showFull}\n        type=\"button\"\n        onClick={() => setShowFull(!showFull)}\n      >\n        {showFull ? <LeftIcon /> : <RightIcon />}\n      </StyledNavButton>\n      <StyledUl>\n        <StyledLi>\n          <SideNavButton\n            showFull={showFull}\n            page={page}\n            active=\"metrics\"\n            setPage={setPage}\n          >\n            <MetricsIcon />\n          </SideNavButton>\n        </StyledLi>\n        <StyledLi>\n          <SideNavButton\n            showFull={showFull}\n            page={page}\n            active=\"orders\"\n            num={orders}\n            setPage={setPage}\n          >\n            <OrdersIcon />\n          </SideNavButton>\n        </StyledLi>\n        <StyledLi>\n          <SideNavButton\n            active=\"inventory\"\n            page={page}\n            showFull={showFull}\n            num={inv}\n            setPage={setPage}\n          >\n            <InventoryIcon />\n          </SideNavButton>\n        </StyledLi>\n        <StyledLi>\n          <SideNavButton\n            active=\"messages\"\n            page={page}\n            showFull={showFull}\n            num={messages}\n            setPage={setPage}\n          >\n            <MessagesIcon />\n          </SideNavButton>\n        </StyledLi>\n      </StyledUl>\n    </StyledNav>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledLabel = styled.label`\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n    user-select: none;\n    margin: 0;\n`;\n\nexport default function Label({ props, children }) {\n  return <StyledLabel {...props}>{children}</StyledLabel>;\n}\n","export default function Trash() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"3 6 5 6 21 6\"></polyline>\n      <path\n        d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n      >\n      </path>\n    </svg>\n  );\n}\n","import Trash from \"../Icons/Trash.js\";\n\nexport default function DeleteButton({ onClick }) {\n  return (\n    <button\n      type=\"button\"\n      className=\"button danger icon-button outline\"\n      onClick={onClick}\n    >\n      <Trash />\n    </button>\n  );\n}\n","import styled from \"styled-components\";\nimport Label from \"../Text/Label.js\";\nimport DeleteButton from \"../Buttons/DeleteButton.js\";\nimport { updateItem } from \"../../services/services.js\";\n\nconst StyledLi = styled.li`\n    display: flex;\n    width: 100%;\n    align-items: center;\n    gap: 2rem;\n    @media screen and (min-width: 1281px) {\n        gap: 3rem;\n    }\n    border-top: 2px solid var(--gray-20);\n    border-left: 2px solid var(--gray-20);\n    border-right: 2px solid var(--gray-20);\n    padding: 1rem;\n\n    &:hover {\n        background-color: var(--gray-20);\n    }\n`;\n\nconst StyledImg = styled.img`\n    max-height: 2rem;\n`;\n\nconst StyledName = styled.p`\n    font-size: 1rem;\n`;\n\nconst StyledAttr = styled.p`\n    font-weight: 500;\n    ${(props) => props.grow && \"flex-grow: 1;\"}\n`;\n\nexport default function InventoryItem({ item, token, setInv }) {\n  const handler = (key, fn) =>\n    (event) => {\n      setInv((inv) => ({\n        ...inv,\n        [item.prefix]: inv[item.prefix].map((i) =>\n          i.id === item.id ? { ...i, [key]: fn(event.target) } : i\n        ),\n      }));\n      updateItem({ ...item, [key]: fn(event.target) }, token).catch((e) =>\n        console.log(e)\n      );\n    };\n\n  const handleQuantity = handler(\"quantity\", (t) => Number(t.value));\n  const handleActive = handler(\"active\", (t) => t.checked);\n  const handlePrice = handler(\"price\", (t) => Number(t.value));\n\n  return (\n    <StyledLi>\n      <StyledImg\n        src={`https://zircus.netlify.app/${item.images.sm_a}`}\n        alt={item.name}\n        className=\"inventory__item__img\"\n      />\n      <StyledName>{item.name.en}</StyledName>\n      <StyledAttr>{item.size}</StyledAttr>\n      <StyledAttr grow={true}>{item.color}</StyledAttr>\n      <Label htmlFor={`${item.id}-price`}>\n        <StyledAttr>price</StyledAttr>\n        <input\n          min=\"0\"\n          step=\"1\"\n          size=\"5\"\n          type=\"number\"\n          id={`${item.id}-price`}\n          value={item.price}\n          onChange={handlePrice}\n        />\n      </Label>\n      <Label htmlFor={`${item.id}-quantity`}>\n        <StyledAttr>quantity</StyledAttr>\n        <input\n          min=\"0\"\n          step=\"1\"\n          size=\"5\"\n          type=\"number\"\n          id={`${item.id}-quantity`}\n          value={item.quantity}\n          onChange={handleQuantity}\n        />\n      </Label>\n      <Label htmlFor=\"active\">\n        <StyledAttr>active</StyledAttr>\n        <input\n          type=\"checkbox\"\n          checked={item.active}\n          onChange={handleActive}\n        />\n      </Label>\n    </StyledLi>\n  );\n}\n","export default function Spinner() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"icon\"\n    >\n      <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line>\n      <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line>\n      <line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line>\n      <line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line>\n      <line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line>\n      <line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line>\n      <line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line>\n      <line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line>\n    </svg>\n  );\n}\n","import styled from \"styled-components\";\nimport Label from \"../Text/Label.js\";\n\nconst StyledFiltersContainer = styled.div`\n    position: fixed;\n    right: calc(var(--base-unit) + 15px);\n    bottom: var(--base-unit);\n    height: 3rem;\n    padding: var(--base-unit) calc(var(--base-unit) * 2);\n    background-color: var(--dgray-90);\n    border-radius: var(--radius);\n    border: 2px solid var(--gray-20);\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n    color: var(--gray-10);\n`;\n\nconst StyledFilters = styled.div`\n    display: flex;\n    gap: var(--base-spacing);\n`;\n\nexport default function Filter({ filters }) {\n  return (\n    <StyledFiltersContainer>\n      <StyledFilters>\n        {filters &&\n          filters.map((filter, i) => (\n            <Label\n              htmlFor={`filter-${i}`}\n              key={filter.text}\n              active={filter.active}\n            >\n              {filter.text}\n              <input\n                checked={filter.active}\n                onChange={filter.setActive}\n                type=\"checkbox\"\n                id={`filter-${i}`}\n              />\n            </Label>\n          ))}\n      </StyledFilters>\n    </StyledFiltersContainer>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledPage = styled.main`\n    overflow-y: scroll;\n    min-height: calc(100vh - 4rem);\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    ${(props) => props.padTop && \"padding-top: var(--base-spacing);\"}\n    ${(props) => props.pad && `padding-left: var(--base-spacing);`}\n    ${(props) => props.pad && `padding-right: var(--base-spacing);`}\n    padding-bottom: var(--lg-spacing);\n`;\n\nexport default function Page({ children, padTop, pad }) {\n  return (\n    <StyledPage padTop={padTop} pad={pad}>\n      {children}\n    </StyledPage>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledList = styled.ul`\n    display: flex;\n    flex-flow: column nowrap;\n    max-width: var(--screen-lg);\n    width: 100%;\n    ${(props) => (props.gap ? \"gap: var(--base-spacing);\" : \"\")}\n`;\nexport default function List({ gap, children }) {\n  return <StyledList gap={gap}>{children}</StyledList>;\n}\n","import { useState } from \"react\";\nimport InventoryItem from \"./InventoryItem.js\";\nimport Spinner from \"../Icons/Spinner.js\";\nimport Filter from \"../Filter/Filter.js\";\nimport Page from \"../Containers/Page.js\";\nimport List from \"../Containers/List.js\";\n\nexport default function Inventory({ inv, token, setInv }) {\n  const [showFF, setShowFF] = useState(true);\n  const [showPF, setShowPF] = useState(true);\n  const [showCF, setShowCF] = useState(true);\n\n  const filters = [\n    {\n      active: showFF,\n      text: \"flat front\",\n      setActive: () => setShowFF(!showFF),\n    },\n    {\n      active: showPF,\n      text: \"pouch front\",\n      setActive: () => setShowPF(!showPF),\n    },\n    {\n      active: showCF,\n      text: \"compression front\",\n      setActive: () => setShowCF(!showCF),\n    },\n  ];\n\n  return (\n    <Page>\n      <Filter filters={filters} />\n      <List>\n        {inv &&\n          showFF &&\n          inv.ff.map((item) => (\n            <InventoryItem\n              item={item}\n              key={item.id}\n              token={token}\n              setInv={setInv}\n            />\n          ))}\n        {inv &&\n          showPF &&\n          inv.pf.map((item) => (\n            <InventoryItem\n              item={item}\n              key={item.id}\n              token={token}\n              setInv={setInv}\n            />\n          ))}\n        {inv &&\n          showCF &&\n          inv.cf.map((item) => (\n            <InventoryItem\n              item={item}\n              key={item.id}\n              token={token}\n              setInv={setInv}\n            />\n          ))}\n        {!inv && (\n          <li id=\"spinner\" className=\"spinner\">\n            <Spinner />\n          </li>\n        )}\n      </List>\n    </Page>\n  );\n}\n","import { CartesianGrid, Line, LineChart, XAxis, YAxis } from \"recharts\";\n\nexport default function OrdersChart({ orders }) {\n  const data = orders\n    ? orders.map((order) => ({\n      name: order.name,\n      date: new Date(order.createdOn).toLocaleDateString(),\n      total: order.total,\n    }))\n    : [];\n\n  return (\n    <LineChart width={500} height={400} data={data}>\n      <Line type=\"monotone\" dataKey=\"total\" stroke=\"#888888\" />\n      <CartesianGrid stroke=\"#cccccc\" />\n      <XAxis dataKey=\"date\" />\n      <YAxis />\n    </LineChart>\n  );\n}\n","import styled from \"styled-components\";\nimport Page from \"../Containers/Page.js\";\nimport OrdersChart from \"./OrdersChart.js\";\n\nconst StyledContainer = styled.div`\n    display: flex;\n    ${(props) =>\n  props.flow ? `flex-flow: ${props.flow};` : \"flex-flow: row wrap;\"}\n    gap: var(--base-spacing);\n    margin-top: var(--base-spacing);\n    width: 100%;\n    max-width: var(--screen-md);\n`;\n\nconst StyledBubble = styled.div`\n    background-color: var(--gray-20);\n    border-radius: var(--radius);\n    flex-basis: 12rem;\n    flex-grow: 1;\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    justify-content: flex-start;\n    overflow: hidden;\n    margin-bottom: var(--lg-spacing);\n\n    h3 {\n        background-color: var(--dgray-80);\n        color: var(--gray-10);\n        width: 100%;\n        text-align: center;\n        padding: var(--base-unit) var(--base-spacing);\n    }\n`;\n\nconst StyledOrdersNum = styled.span`\n    display: flex;\n    height: 100%;\n    align-items: center;\n    justify-content: center;\n    font-size: var(--xxl-font-size);\n`;\n\nconst StyledItems = styled.ul`\n    width: 100%;\n    padding: var(--base-spacing) !important;\n\n    li {\n        display: flex;\n        justify-content: space-between;\n        border-bottom: 1px solid var(--gray-30);\n        padding: var(--base-unit);\n\n        &:hover {\n            background-color: var(--gray-30);\n        }\n    }\n`;\n\nexport default function Metrics({ orders, inv, messages }) {\n  const invFlat = (inv && Object.values(inv).flat()) || [];\n  return (\n    <Page pad={true}>\n      <StyledContainer flow=\"row wrap\">\n        <StyledBubble>\n          <h3>orders</h3>\n          <StyledOrdersNum>{orders && orders.length}</StyledOrdersNum>\n        </StyledBubble>\n        <StyledBubble>\n          <h3>messages</h3>\n          <StyledOrdersNum>\n            {messages && messages.length}\n          </StyledOrdersNum>\n        </StyledBubble>\n        <StyledBubble>\n          <h3>low stock</h3>\n          <StyledItems>\n            {invFlat.map(\n              (item) =>\n                item.quantity < 5 && (\n                  <li key={item.type}>\n                    <span>{item.type}</span>\n                    <span>{item.quantity}</span>\n                  </li>\n                ),\n            )}\n          </StyledItems>\n        </StyledBubble>\n      </StyledContainer>\n      <StyledContainer flow=\"column nowrap\">\n        <h2>Recent Orders</h2>\n        <OrdersChart orders={orders} />\n      </StyledContainer>\n    </Page>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledText = styled.h3`\n    font-size: 1.125rem;\n    font-weight: 700;\n    display: block;\n    margin-bottom: var(--base-unit);\n    font-style: normal;\n`;\n\nexport default function MediumHeader({ children }) {\n  return <StyledText>{children}</StyledText>;\n}\n","import styled from \"styled-components\";\nimport MediumHeader from \"../Text/MediumHeader.js\";\n\nconst StyledAddress = styled.address`\n    flex-grow: 1;\n`;\n\nexport default function OrderAddress({ order }) {\n  return (\n    <StyledAddress>\n      <MediumHeader>{order.name}</MediumHeader>\n      <a href={`mailto:${order.email}`}>{order.email}</a>\n      <br />\n      <a href={`tel:+1${order.phone.replaceAll(\" \", \"\")}`}>+1 {order.phone}</a>\n      <br />\n      {order.address.line1}\n      <br />\n      {order.address.line2}\n      <br />\n      {order.address.city} {order.address.state}\n      <br />\n      {order.address.postalCode.toUpperCase()} {order.address.country}\n      <br />\n    </StyledAddress>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledTotal = styled.p`\n    margin-top: auto;\n    text-align: right;\n    font-weight: 600;\n`;\n\nconst StyledItems = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: space-between;\n    width: 14rem;\n    border-right: 2px solid var(--gray-30);\n    padding-right: var(--base-spacing);\n`;\n\nexport default function OrderItems({ order }) {\n  return (\n    <StyledItems>\n      <ul>\n        {order.items.map((item) => (\n          <li key={item.type}>\n            {item.type} x {item.quantity}\n          </li>\n        ))}\n      </ul>\n      <StyledTotal>total ${order.total.toFixed(2)}</StyledTotal>\n    </StyledItems>\n  );\n}\n","import styled from \"styled-components\";\nimport { deleteOrder, updateOrder } from \"../../services/services.js\";\nimport OrderAddress from \"./OrderAddress.js\";\nimport MediumHeader from \"../Text/MediumHeader.js\";\nimport OrderItems from \"./OrderItems.js\";\nimport Label from \"../Text/Label.js\";\nimport DeleteButton from \"../Buttons/DeleteButton.js\";\n\nconst StyledLi = styled.li`\n    margin: 0 auto;\n    display: flex;\n    gap: var(--base-spacing);\n    padding: var(--base-spacing);\n    width: 100%;\n    border-left: 0.5rem solid;\n    border-right: 0.5rem solid;\n    border-bottom: 1px solid;\n    border-top: 1px solid;\n    border-color: ${(props) =>\n  props.hasPaid && props.hasShipped\n    ? \"var(--green)\"\n    : props.hasPaid\n    ? \"var(--yellow)\"\n    : \"var(--gray-30)\"};\n\n    &:hover {\n        background-color: var(--gray-20);\n    }\n`;\n\nconst StyledActions = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n`;\n\nconst StyledBtnContainer = styled.div`\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    flex-grow: 1;\n`;\n\nexport default function Order({\n  order,\n  token,\n  setShowModal,\n  setOrders,\n  notify,\n}) {\n  const handleDeleteFailure = ({ data }) =>\n    notify(`Error: ${data?.error}`, \"red\") && console.log(data);\n  const handleDelete = () => {\n    setShowModal({\n      heading: \"Confirm deletion\",\n      text: `Delete ${order.name}'s order?'`,\n      color: \"danger\",\n      btnText: \"Delete\",\n      ok: (choice) => {\n        if (choice) {\n          deleteOrder(order.id, token).catch(handleDeleteFailure);\n        }\n      },\n    });\n  };\n\n  const updatePaid = () => {\n    setOrders((orders) =>\n      orders.map((o) => o.id === order.id ? { ...o, hasPaid: !o.hasPaid } : o)\n    );\n    updateOrder(\n      {\n        id: order.id,\n        updatedAttributes: {\n          hasPaid: !order.hasPaid,\n        },\n      },\n      token,\n    ).catch((e) => console.log(e));\n  };\n\n  const updateShipped = () => {\n    setOrders((orders) =>\n      orders.map((o) =>\n        o.id === order.id ? { ...o, hasShipped: !o.hasShipped } : o\n      )\n    );\n    updateOrder(\n      {\n        id: order.id,\n        updatedAttributes: {\n          hasShipped: !order.hasShipped,\n        },\n      },\n      token,\n    ).catch((e) => console.log(e));\n  };\n\n  return (\n    <StyledLi hasPaid={order.hasPaid} hasShipped={order.hasShipped}>\n      <OrderItems order={order} />\n      <OrderAddress order={order} />\n      <StyledActions>\n        <MediumHeader>\n          {new Date(order.createdOn).toLocaleString(\"en-US\")}\n        </MediumHeader>\n        <Label>\n          paid:\n          <input\n            type=\"checkbox\"\n            checked={order.hasPaid}\n            onChange={updatePaid}\n          />\n        </Label>\n        <Label>\n          shipped:\n          <input\n            type=\"checkbox\"\n            checked={order.hasShipped}\n            onChange={updateShipped}\n          />\n        </Label>\n        <StyledBtnContainer>\n          <DeleteButton onClick={handleDelete} />\n        </StyledBtnContainer>\n      </StyledActions>\n    </StyledLi>\n  );\n}\n","import { useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Order from \"./Order.js\";\nimport Filter from \"../Filter/Filter.js\";\nimport Page from \"../Containers/Page.js\";\nimport List from \"../Containers/List.js\";\nimport { useField } from \"../../hooks/hooks.js\";\n\nconst StyledLabel = styled.label`\n  display: flex;\n  gap: var(--base-unit);\n  align-items: center;\n`;\n\nconst StyledLabelContainer = styled.div`\n  display: flex;\n  gap: var(--base-spacing);\n  margin-bottom: var(--base-spacing);\n`;\n\nexport default function Orders({\n  orders,\n  token,\n  setShowModal,\n  setOrders,\n  notify,\n}) {\n  const [dateStart, clearDateStart] = useField(\n    \"date\",\n    \"\",\n  );\n  const [dateEnd, clearDateEnd] = useField(\n    \"date\",\n    \"\",\n  );\n  const [filter, setFilter] = useState([\"hasPaid\"]);\n  const filters = [\n    {\n      active: filter.includes(\"hasShipped\"),\n      text: \"shipped\",\n      setActive: () =>\n        filter.includes(\"hasShipped\")\n          ? setFilter((filter) => filter.filter((f) => f !== \"hasShipped\"))\n          : setFilter((filter) => filter.concat(\"hasShipped\")),\n    },\n    {\n      active: filter.includes(\"hasPaid\"),\n      text: \"paid\",\n      setActive: () =>\n        filter.includes(\"hasPaid\")\n          ? setFilter((filter) => filter.filter((f) => f !== \"hasPaid\"))\n          : setFilter((filter) => filter.concat(\"hasPaid\")),\n    },\n  ];\n  const filterOrder = (order) => {\n    if (!filter.length) return true;\n    for (const f of filter) if (!order[f]) return false;\n    return true;\n  };\n  const ordersToShow = orders && orders.filter(filterOrder);\n  return (\n    <Page padTop={true}>\n      <StyledLabelContainer>\n        <StyledLabel htmlFor=\"dateStart\">\n          <span>Date Start</span>\n          <input {...dateStart} id=\"dateStart\" />\n        </StyledLabel>\n        <StyledLabel htmlFor=\"dateEnd\">\n          <span>Date End</span>\n          <input {...dateEnd} id=\"dateEnd\" />\n        </StyledLabel>\n      </StyledLabelContainer>\n      <Filter filters={filters} />\n      <List gap={true}>\n        {orders &&\n          ordersToShow.map((order) => (\n            <Order\n              notify={notify}\n              token={token}\n              order={order}\n              key={order.id}\n              setShowModal={setShowModal}\n              setOrders={setOrders}\n            />\n          ))}\n      </List>\n    </Page>\n  );\n}\n","import styled from \"styled-components\";\nimport MediumHeader from \"../Text/MediumHeader.js\";\nimport DeleteButton from \"../Buttons/DeleteButton.js\";\nimport { useState } from \"react\";\nimport { deleteMessage } from \"../../services/services.js\";\n\nconst StyledLi = styled.li`\n    margin: 0 auto;\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-start;\n    gap: var(--md-spacing);\n    padding: var(--base-spacing);\n    width: 100%;\n    border-left: 0.5rem solid;\n    border-right: 0.5rem solid;\n    border-bottom: 1px solid;\n    border-top: 1px solid;\n    border-color: var(--gray-30);\n\n    &:hover {\n        background-color: var(--gray-20);\n    }\n`;\n\nconst StyledDiv = styled.div`\n    display: flex;\n    max-width: 22vw;\n    width: 100%;\n    flex-flow: column nowrap;\n`;\n\nconst StyledActions = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    flex-grow: 1;\n`;\n\nconst StyledText = styled.p`\n    max-width: 75ch;\n    width: 100%;\n`;\n\nconst StyledA = styled.a`\n    text-decoration: none;\n    padding: var(--base-unit);\n    color: var(--link);\n\n    &:hover,\n    &:focus {\n        text-decoration: none !important;\n        color: var(--link-hover);\n    }\n`;\n\nexport default function Message({\n  message,\n  setShowModal,\n  setMessages,\n  token,\n  notify,\n}) {\n  const [showFull, setShowFull] = useState(false);\n  const handleDeleteSuccess = ({ data }) => {\n    setMessages((messages) => messages.filter((m) => m.id !== message.id));\n    notify(`${data.response}: Deleted ${message.name}'s message`, \"red\");\n  };\n  const handleDeleteFailure = ({ data }) => notify(`${data.error}`, \"red\");\n  const handleDelete = () => {\n    setShowModal({\n      heading: \"Confirm deletion\",\n      text: `Delete ${message.name}'s message?'`,\n      color: \"danger\",\n      btnText: \"Delete\",\n      ok: (choice) => {\n        if (choice) {\n          deleteMessage(message.id, token)\n            .then(handleDeleteSuccess)\n            .catch(handleDeleteFailure);\n        }\n      },\n    });\n  };\n\n  return (\n    <StyledLi>\n      <StyledDiv>\n        <MediumHeader>{message.name}</MediumHeader>\n        <a href={`mailto:${message.email}`}>{message.email}</a>\n      </StyledDiv>\n      <StyledText>\n        {showFull ? message.message : message.message.substring(0, 140)}\n        {message.message.length > 140 && (\n          <StyledA\n            href=\"#\"\n            onClick={() => setShowFull((state) => !state)}\n          >\n            {showFull ? \"(less)\" : \"... (more)\"}\n          </StyledA>\n        )}\n      </StyledText>\n      <StyledActions>\n        <DeleteButton onClick={() => handleDelete()} />\n      </StyledActions>\n    </StyledLi>\n  );\n}\n","import Page from \"../Containers/Page.js\";\nimport List from \"../Containers/List.js\";\nimport Message from \"./Message.js\";\n\nexport default function Messages({\n  messages,\n  setShowModal,\n  setMessages,\n  token,\n  notify,\n}) {\n  return (\n    <Page>\n      <List gap={true}>\n        {messages &&\n          messages.map((message) => (\n            <Message\n              notify={notify}\n              token={token}\n              setMessages={setMessages}\n              key={message.id}\n              message={message}\n              setShowModal={setShowModal}\n            />\n          ))}\n      </List>\n    </Page>\n  );\n}\n","import styled from \"styled-components\";\n\nconst StyledDiv = styled.div`\n    position: fixed;\n    top: calc(var(--base-unit) + 4rem);\n    right: calc(var(--base-unit) + 15px); // for scrollbar\n    width: 22rem;\n    background-color: ${(props) =>\n  props.look === \"red\"\n    ? \"var(--red);\"\n    : props.look === \"green\"\n    ? \"var(--green);\"\n    : \"var(--gray-30);\"}\n    z-index: 100;\n    border-radius: var(--radius);\n    opacity: 0.95;\n    box-shadow: var(--box-shadow-sm);\n    animation: 0.2s ease-out forwards fadeDown;\n`;\n\nconst StyledP = styled.p`\n    color: var(--gray-20);\n    margin: var(--base-spacing);\n    font-size: var(--small-font-size);\n    font-weight: 600;\n`;\n\nexport default function Notification({ notification }) {\n  return (\n    <StyledDiv look={notification.style}>\n      <StyledP>{notification.text}</StyledP>\n    </StyledDiv>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState } from \"react\";\nimport Header from \"./components/Header/Header.js\";\nimport SideNav from \"./components/SideNav/SideNav.js\";\nimport Inventory from \"./components/Inventory/Inventory.js\";\nimport Metrics from \"./components/Metrics/Metrics.js\";\nimport Orders from \"./components/Orders/Orders.js\";\nimport Messages from \"./components/Messages/Messages.js\";\nimport Notification from \"./components/Notification/Notification.js\";\n\nconst StyledDashboard = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    padding-top: 4rem;\n    padding-left: ${(props) => (props.showFull ? \"12rem\" : \"4rem\")};\n    height: 100vh;\n    overflow: hidden;\n`;\n\nexport default function Dashboard({\n  inv,\n  orders,\n  token,\n  setShowModal,\n  logout,\n  setOrders,\n  setInv,\n  user,\n  messages,\n  setMessages,\n  notify,\n  notification,\n}) {\n  const [page, setPage] = useState(\"metrics\");\n  const [showFull, setShowFull] = useState(true);\n  const numOrders = orders ? orders.length : 0;\n  const numMessages = messages ? messages.length : 0;\n  const reduceFn = (inv, fn) => inv.reduce((acc, item) => acc + fn(item), 0);\n  const qty = (item) => item.quantity;\n  const numInv = inv\n    ? reduceFn(\n      [\n        reduceFn(inv.ff, qty),\n        reduceFn(inv.pf, qty),\n        reduceFn(inv.cf, qty),\n      ],\n      (x) => x,\n    )\n    : 0;\n\n  return (\n    <StyledDashboard showFull={showFull}>\n      <Header text=\"Zircus Admin Dashboard\" logout={logout} user={user} />\n      <SideNav\n        page={page}\n        setPage={setPage}\n        orders={numOrders}\n        inv={numInv}\n        showFull={showFull}\n        setShowFull={setShowFull}\n        messages={numMessages}\n      />\n      {notification && <Notification notification={notification} />}\n      {page === \"inventory\" && (\n        <Inventory\n          inv={inv}\n          token={token}\n          setShowModal={setShowModal}\n          setInv={setInv}\n        />\n      )}\n      {page === \"orders\" && (\n        <Orders\n          orders={orders}\n          token={token}\n          setShowModal={setShowModal}\n          setOrders={setOrders}\n          notify={notify}\n        />\n      )}\n      {page === \"metrics\" && (\n        <Metrics\n          orders={orders}\n          setShowModal={setShowModal}\n          inv={inv}\n          messages={messages}\n        />\n      )}\n      {page === \"messages\" && (\n        <Messages\n          messages={messages}\n          setMessages={setMessages}\n          setShowModal={setShowModal}\n          token={token}\n          notify={notify}\n        />\n      )}\n    </StyledDashboard>\n  );\n}\n","import { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledBlur = styled.div`\n    ${(props) => props.showModal && \"filter: blur(0.25rem)\"};\n`;\n\nconst StyledBlock = styled.div`\n    width: 100vw;\n    height: 100vh;\n    top: 0;\n    left: 0;\n    position: fixed;\n`;\n\nconst StyledModal = styled.section`\n    position: fixed;\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 1rem;\n    backgroud-color: var(--gray-90);\n    top: calc(25%);\n    left: calc(50% - 15rem);\n    width: 30rem;\n    min-height: 15rem;\n    background-color: var(--gray-10);\n    border-radius: var(--big-radius);\n    border: 2px solid var(--dgray-90);\n    padding: var(--base-spacing);\n`;\n\nconst StyledText = styled.p`\n    flex-grow: 1;\n`;\n\nconst StyledButtons = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    width: 100%;\n    gap: 1rem;\n`;\n\nconst StyledButton = styled.button`\n    flex-grow: 1;\n`;\n\nexport default function Modal({ children, showModal, setShowModal }) {\n  const cancelBtn = useRef();\n\n  const ok = () => {\n    showModal.ok(true);\n    setShowModal(null);\n  };\n  const cancel = () => {\n    showModal.ok(false);\n    setShowModal(null);\n  };\n\n  useEffect(() => {\n    showModal && cancelBtn.current.focus();\n  });\n\n  return (\n    <div>\n      <StyledBlur showModal={showModal}>\n        {children}\n        {showModal && <StyledBlock></StyledBlock>}\n      </StyledBlur>\n      {showModal && (\n        <StyledModal>\n          <h2>{showModal.heading}</h2>\n          <StyledText>{showModal.text}</StyledText>\n          <StyledButtons>\n            <StyledButton\n              className={`${showModal.color} button`}\n              type=\"button\"\n              onClick={ok}\n            >\n              {showModal.btnText || \"Ok\"}\n            </StyledButton>\n            <StyledButton\n              className=\"button outline\"\n              type=\"button\"\n              onClick={cancel}\n              ref={cancelBtn}\n            >\n              Cancel\n            </StyledButton>\n          </StyledButtons>\n        </StyledModal>\n      )}\n    </div>\n  );\n}\n","import Login from \"./Login.js\";\nimport Dashboard from \"./Dashboard.js\";\nimport Modal from \"./components/Modal/Modal.js\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { getInv, getMessages, getOrders } from \"./services/services.js\";\nimport { WebsocketContext } from \"./services/Websocket.js\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n  const [inv, setInv] = useState(null);\n  const [messages, setMessages] = useState(null);\n  const [orders, setOrders] = useState(null);\n  const [showModal, setShowModal] = useState(null);\n  const [notification, setNotification] = useState(null);\n  const [websocketId, setWebsocketId] = useState(-1);\n  const { addListener, removeListener } = useContext(WebsocketContext);\n\n  const updateMessages = ({ text, color }) => {\n    notify(text, color);\n    getMessages(token)\n      .then((reply) => setMessages(reply.data.messages))\n      .catch(() => setMessages(null));\n  };\n\n  const updateOrders = ({ text, color }) => {\n    notify(text, color);\n    getInv()\n      .then((reply) => setInv(reply.data))\n      .catch(() => setInv(null));\n    getOrders(token)\n      .then((reply) => setOrders(reply.data))\n      .catch(() => setOrders(null));\n  };\n\n  const initWebsocketListener = () => {\n    const websocketListenerId = addListener((msg) => {\n      if (!token) return;\n      switch (msg.type) {\n        case \"message\":\n          return updateMessages({\n            text: `New message from ${msg.data.name}`,\n            color: \"green\",\n          });\n        case \"pending order\":\n          return updateOrders({\n            text: `Pending order from ${msg.data.name}`,\n            color: \"gray\",\n          });\n        case \"paid order\":\n          return updateOrders({\n            text: `Paid order from ${msg.data.name}`,\n            color: \"green\",\n          });\n        case \"deleted order\":\n          return updateOrders({\n            text: `${msg.data.response}: Inventory updated`,\n            color: \"red\",\n          });\n      }\n    });\n    setWebsocketId(websocketListenerId);\n  };\n\n  const onComponentDestroy = () => {\n    removeListener(websocketId);\n    setWebsocketId(-1);\n  };\n\n  const notify = (text, style) => {\n    if (notification && notification.self) clearTimeout(notification.self);\n    const self = setTimeout(() => setNotification(null), 4500);\n    setNotification({ text, style, self });\n  };\n\n  const logout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n  };\n\n  useEffect(() => {\n    getInv()\n      .then((reply) => setInv(reply.data))\n      .catch(() => setInv(null));\n    if (token !== null) {\n      getOrders(token)\n        .then((reply) => setOrders(reply.data))\n        .catch(() => setOrders(null));\n      getMessages(token)\n        .then((reply) => setMessages(reply.data.messages))\n        .catch(() => setMessages(null));\n    }\n    initWebsocketListener();\n    return onComponentDestroy;\n  }, [setInv, token]);\n\n  return (\n    <Modal showModal={showModal} setShowModal={setShowModal}>\n      {token\n        ? (\n          <Dashboard\n            notification={notification}\n            notify={notify}\n            inv={inv}\n            orders={orders}\n            token={token}\n            logout={logout}\n            setShowModal={setShowModal}\n            setOrders={setOrders}\n            setInv={setInv}\n            user={user}\n            messages={messages}\n            setMessages={setMessages}\n          />\n        )\n        : (\n          <Login setUser={setUser} setToken={setToken} />\n        )}\n    </Modal>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { WebsocketProvider } from \"./services/Websocket.js\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <WebsocketProvider>\n      <App />\n    </WebsocketProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}