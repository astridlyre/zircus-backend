{"version":3,"sources":["services/services.js","hooks/hooks.js","services/Websocket.js","Login.js","components/Icons/UserIcon.js","components/Header/Header.js","components/Icons/RightIcon.js","components/Icons/LeftIcon.js","components/Icons/InventoryIcon.js","components/Icons/OrdersIcon.js","components/Icons/MetricsIcon.js","components/Icons/MessagesIcon.js","components/SideNav/SideNavButton.js","components/SideNav/SideNav.js","components/Text/Label.js","components/Icons/Trash.js","components/Buttons/DeleteButton.js","components/Inventory/InventoryItem.js","components/Icons/Spinner.js","components/Filter/Filter.js","components/Containers/Page.js","components/Containers/List.js","components/Inventory/Inventory.js","components/Metrics/OrdersChart.js","components/Metrics/Metrics.js","components/Text/MediumHeader.js","components/Orders/OrderAddress.js","components/Orders/OrderItems.js","components/Orders/Order.js","components/Orders/Orders.js","components/Messages/Message.js","components/Messages/Messages.js","components/Notification/Notification.js","Dashboard.js","components/Modal/Modal.js","App.js","index.js"],"names":["authHeader","token","headers","Authorization","API_ENDPOINT","login","username","password","a","axios","post","getInv","get","getOrders","updateOrder","order","put","id","delete","item","getMessages","useField","type","initial","placeholder","useState","value","setFieldVal","onChange","e","target","listeners","WebsocketContext","React","createContext","WebsocketProvider","children","websocket","useRef","autoReconnectInterval","initializeWebSocket","current","WebSocket","onopen","console","debug","onmessage","msg","decodedMessage","JSON","parse","data","handleMessage","onclose","code","reconnectToWebSocket","onerror","err","error","setTimeout","Math","min","forEach","x","messageHandler","Provider","disconnectWebSocket","close","addListener","length","push","removeListener","filter","l","StyledLogin","Consumer","styled","main","StyledForm","form","StyledLabel","label","StyledMessage","p","props","failedLogin","StyledButton","button","Login","setToken","setUser","setFailedLogin","usernameInput","passwordInput","useContext","handleFailedLogin","handleSuccessfulLogin","name","localStorage","setItem","handleSubmit","preventDefault","then","catch","useEffect","storedToken","getItem","storedUser","onSubmit","htmlFor","disabled","className","UserIcon","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","StyledHeader","header","StyledH3","h3","StyledName","span","Header","text","logout","user","split","onClick","RightIcon","points","LeftIcon","InventoryIcon","x1","y1","x2","y2","OrdersIcon","MetricsIcon","MessagesIcon","showFull","SideNavButton","active","page","num","setPage","StyledNav","nav","StyledUl","ul","StyledLi","li","StyledNavButton","SideNav","inv","orders","setShowFull","messages","Label","Trash","DeleteButton","StyledImg","img","StyledAttr","grow","InventoryItem","setInv","handler","key","fn","event","prefix","map","i","updateItem","log","handleQuantity","t","Number","handleActive","checked","handlePrice","src","images","sm_a","alt","en","size","color","step","price","quantity","Spinner","StyledFiltersContainer","div","StyledFilters","Filter","filters","setActive","StyledPage","padTop","pad","Page","StyledList","gap","List","Inventory","showFF","setShowFF","showPF","setShowPF","showCF","setShowCF","ff","pf","cf","OrdersChart","date","Date","createdOn","toLocaleDateString","total","LineChart","width","height","Line","dataKey","CartesianGrid","XAxis","YAxis","StyledContainer","flow","StyledBubble","StyledOrdersNum","StyledItems","Metrics","invFlat","Object","values","flat","StyledText","MediumHeader","StyledAddress","address","OrderAddress","href","email","streetAddress","city","state","zip","toUpperCase","country","StyledTotal","OrderItems","items","toFixed","hasPaid","hasShipped","StyledActions","StyledBtnContainer","Order","setShowModal","setOrders","notify","handleDeleteFailure","toLocaleString","o","updatedAttributes","heading","btnText","ok","choice","deleteOrder","Orders","setFilter","includes","f","concat","ordersToShow","StyledDiv","StyledA","Message","message","setMessages","handleDeleteSuccess","m","response","handleDelete","deleteMessage","substring","Messages","look","StyledP","Notification","notification","style","StyledDashboard","Dashboard","numOrders","numMessages","reduceFn","reduce","acc","qty","numInv","StyledBlur","showModal","StyledBlock","StyledModal","section","StyledButtons","Modal","cancelBtn","focus","ref","App","setNotification","websocketId","setWebsocketId","updateOrders","reply","initWebsocketListener","websocketListenerId","updateMessages","onComponentDestroy","self","clearTimeout","removeItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9360cd13.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst authHeader = token => ({\n    headers: {\n        Authorization: `Bearer ${token}`,\n    },\n})\n\nconst API_ENDPOINT = 'https://zircus.herokuapp.com/api'\n// const API_ENDPOINT = 'http://localhost:3000/api'\n\nexport async function login(username, password) {\n    return await axios.post(`${API_ENDPOINT}/login`, {\n        username,\n        password,\n    })\n}\n\nexport async function getInv() {\n    return await axios.get(`${API_ENDPOINT}/inv`)\n}\n\nexport async function getOrders(token) {\n    return await axios.get(`${API_ENDPOINT}/orders`, authHeader(token))\n}\n\nexport async function updateOrder(order, token) {\n    return await axios.put(\n        `${API_ENDPOINT}/orders/${order.id}`,\n        order,\n        authHeader(token)\n    )\n}\n\nexport async function deleteOrder(id, token) {\n    return await axios.delete(`${API_ENDPOINT}/orders/${id}`, authHeader(token))\n}\n\nexport async function updateItem(item, token) {\n    return await axios.put(`${API_ENDPOINT}/inv`, item, authHeader(token))\n}\n\nexport async function getMessages(token) {\n    return await axios.get(`${API_ENDPOINT}/message`, authHeader(token))\n}\n\nexport async function deleteMessage(id, token) {\n    return await axios.delete(\n        `${API_ENDPOINT}/message/${id}`,\n        authHeader(token)\n    )\n}\n","import { useState } from 'react'\n\nexport function useField(type, initial, placeholder) {\n    const [value, setFieldVal] = useState(initial)\n    return [\n        {\n            type,\n            value,\n            onChange: e => setFieldVal(e.target.value),\n            placeholder,\n        },\n        () => setFieldVal(initial),\n    ]\n}\n","import React, { useRef } from 'react'\n\nconst WS_ENDPOINT = 'wss://zircus.herokuapp.com'\n// const WS_ENDPOINT = 'ws://localhost:3000'\n\nlet listeners = []\n\nconst WebsocketContext = React.createContext()\n\nconst WebsocketProvider = ({ children }) => {\n    const websocket = useRef(null)\n    let autoReconnectInterval = 250\n\n    const initializeWebSocket = () => {\n        websocket.current = new WebSocket(WS_ENDPOINT)\n        websocket.current.onopen = () => {\n            console.debug('Websocket connection open')\n            autoReconnectInterval = 250\n        }\n        websocket.current.onmessage = msg => {\n            const decodedMessage = JSON.parse(msg.data)\n            handleMessage(decodedMessage)\n        }\n        websocket.current.onclose = e => {\n            switch (e.code) {\n                case 1000:\n                    console.debug('Websocket closed normally')\n                    break\n                default:\n                    autoReconnectInterval += autoReconnectInterval\n                    reconnectToWebSocket(autoReconnectInterval)\n            }\n        }\n        websocket.current.onerror = err => {\n            switch (err.code) {\n                case 'ECONNREFUSED':\n                    autoReconnectInterval = autoReconnectInterval +=\n                        autoReconnectInterval\n                    reconnectToWebSocket(autoReconnectInterval)\n                    break\n                default:\n                    console.error(`Websocket encountered error: ${err}`)\n            }\n        }\n    }\n\n    const reconnectToWebSocket = autoReconnectInterval => {\n        const maximumConnectionTimeout = 10000\n        setTimeout(\n            initializeWebSocket,\n            Math.min(maximumConnectionTimeout, autoReconnectInterval)\n        )\n    }\n\n    const handleMessage = msg => {\n        console.debug(`[Websocket-IncomingMessage] `, msg)\n        listeners.forEach(x => x.messageHandler(msg))\n    }\n\n    const disconnectWebSocket = () => {\n        if (!!websocket.current) websocket.current.close(1000)\n    }\n\n    const addListener = messageHandler => {\n        const id = listeners.length\n        listeners.push({ id, messageHandler })\n        return id\n    }\n\n    const removeListener = id =>\n        (listeners = listeners.filter(l => l.id !== id))\n\n    return (\n        <WebsocketContext.Provider\n            value={{\n                initializeWebSocket,\n                disconnectWebSocket,\n                addListener,\n                removeListener,\n            }}\n        >\n            {children}\n        </WebsocketContext.Provider>\n    )\n}\n\nconst WebsocketConsumer = WebsocketContext.Consumer\n\nexport { WebsocketProvider, WebsocketConsumer, WebsocketContext }\n","import styled from 'styled-components'\nimport { useEffect, useState } from 'react'\nimport { login } from './services/services.js'\nimport { useField } from './hooks/hooks.js'\nimport { WebsocketContext } from './services/Websocket.js'\nimport { useContext } from 'react'\n\nconst StyledLogin = styled.main`\n    width: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n`\n\nconst StyledForm = styled.form`\n    margin-top: var(--lg-spacing);\n    padding: var(--md-spacing);\n    background-color: var(--gray-20);\n    border-radius: var(--big-radius);\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 0.5rem;\n`\n\nconst StyledLabel = styled.label`\n    display: flex;\n    flex-flow: column nowrap;\n`\n\nconst StyledMessage = styled.p`\n    color: ${props => (props.failedLogin ? 'var(--red)' : 'var(--text-color)')};\n    margin: var(--base-spacing) 0;\n    font-weight: 500;\n`\n\nconst StyledButton = styled.button`\n    margin-top: 0.5rem;\n`\n\nexport default function Login({ setToken, setUser }) {\n    const [failedLogin, setFailedLogin] = useState(false)\n    const [usernameInput] = useField('text', '')\n    const [passwordInput] = useField('password', '')\n    const { initializeWebSocket } = useContext(WebsocketContext)\n\n    const handleFailedLogin = () => {\n        setFailedLogin(true)\n        setTimeout(() => {\n            setFailedLogin(false)\n        }, 2000)\n    }\n\n    const handleSuccessfulLogin = ({ data }) => {\n        setUser(data.name)\n        setToken(data.token)\n        localStorage.setItem('user', data.name)\n        localStorage.setItem('token', data.token)\n        initializeWebSocket()\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n        login(usernameInput.value, passwordInput.value)\n            .then(handleSuccessfulLogin)\n            .catch(handleFailedLogin)\n    }\n\n    useEffect(() => {\n        const storedToken = localStorage.getItem('token')\n        const storedUser = localStorage.getItem('user')\n        if (storedToken) setToken(storedToken)\n        if (storedUser) setUser(storedUser)\n        if (storedToken && storedUser) initializeWebSocket()\n    }, [setToken, setUser, initializeWebSocket])\n\n    return (\n        <StyledLogin>\n            <StyledForm onSubmit={handleSubmit}>\n                <h1>Zircus Admin</h1>\n                <StyledMessage failedLogin={failedLogin}>\n                    {failedLogin ? 'Login failed' : 'Please Log in:'}\n                </StyledMessage>\n                <StyledLabel htmlFor=\"username\">\n                    <span>Username</span>\n                    <input\n                        {...usernameInput}\n                        disabled={failedLogin ? true : false}\n                    />\n                </StyledLabel>\n                <StyledLabel htmlFor=\"password\">\n                    <span>Password</span>\n                    <input\n                        {...passwordInput}\n                        disabled={failedLogin ? true : false}\n                    />\n                </StyledLabel>\n                <StyledButton\n                    className=\"button\"\n                    type=\"submit\"\n                    disabled={failedLogin ? true : false}\n                >\n                    {failedLogin ? 'Please wait' : 'Log in'}\n                </StyledButton>\n            </StyledForm>\n        </StyledLogin>\n    )\n}\n","export default function UserIcon() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n        >\n            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n            <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n        </svg>\n    )\n}\n","import styled from 'styled-components'\nimport UserIcon from '../Icons/UserIcon.js'\n\nconst StyledHeader = styled.header`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 4rem;\n    background: var(--dgray-80);\n    padding: var(--base-spacing);\n`\n\nconst StyledH3 = styled.h3`\n    color: var(--invert-text-color);\n    font-size: 1.25rem;\n    flex-grow: 1;\n`\n\nconst StyledName = styled.span`\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n    color: var(--gray-10);\n    margin-right: var(--base-spacing);\n\n    svg {\n        height: 1rem;\n    }\n`\n\nexport default function Header({ text, logout, user }) {\n    return (\n        <StyledHeader>\n            <StyledH3>{text}</StyledH3>\n            <StyledName>\n                <UserIcon /> {user.split(' ')[0]}\n            </StyledName>\n            <button\n                className=\"button light outline\"\n                type=\"button\"\n                onClick={logout}\n            >\n                logout\n            </button>\n        </StyledHeader>\n    )\n}\n","export default function RightIcon() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n        >\n            <polyline points=\"13 17 18 12 13 7\"></polyline>\n            <polyline points=\"6 17 11 12 6 7\"></polyline>\n        </svg>\n    )\n}\n","export default function LeftIcon() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n        >\n            <polyline points=\"11 17 6 12 11 7\"></polyline>\n            <polyline points=\"18 17 13 12 18 7\"></polyline>\n        </svg>\n    )\n}\n","export default function InventoryIcon() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n        >\n            <line x1=\"8\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n            <line x1=\"8\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\n            <line x1=\"8\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\n            <line x1=\"3\" y1=\"6\" x2=\"3.01\" y2=\"6\"></line>\n            <line x1=\"3\" y1=\"12\" x2=\"3.01\" y2=\"12\"></line>\n            <line x1=\"3\" y1=\"18\" x2=\"3.01\" y2=\"18\"></line>\n        </svg>\n    )\n}\n","export default function OrdersIcon() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n        >\n            <path d=\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\"></path>\n            <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n            <path d=\"M16 10a4 4 0 0 1-8 0\"></path>\n        </svg>\n    )\n}\n","export default function MetricsIcon() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n        >\n            <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\"></polyline>\n            <polyline points=\"17 6 23 6 23 12\"></polyline>\n        </svg>\n    )\n}\n","export default function MessagesIcon() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n        >\n            <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n        </svg>\n    )\n}\n","import styled from 'styled-components'\n\nconst StyledButton = styled.button`\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n    ${props => props.showFull && 'gap: calc(var(--base-unit) * 1.5);'}\n    justify-content: ${props => (props.showFull ? 'left' : 'center')};\n    ${props => !props.showFull && 'padding: var(--input-padding);'}\n\n    svg {\n        height: 1.25rem;\n    }\n`\nexport default function SideNavButton({\n    showFull,\n    active,\n    page,\n    num,\n    setPage,\n    children,\n}) {\n    return (\n        <StyledButton\n            showFull={showFull}\n            className={page === active ? 'button' : 'button outline'}\n            onClick={() => setPage(active)}\n        >\n            {children}\n            {showFull && `${active} ${num ? `(${num})` : ''}`}\n        </StyledButton>\n    )\n}\n","import styled from 'styled-components'\nimport RightIcon from '../Icons/RightIcon.js'\nimport LeftIcon from '../Icons/LeftIcon.js'\nimport InventoryIcon from '../Icons/InventoryIcon.js'\nimport OrdersIcon from '../Icons/OrdersIcon.js'\nimport MetricsIcon from '../Icons/MetricsIcon.js'\nimport MessagesIcon from '../Icons/MessagesIcon.js'\nimport SideNavButton from './SideNavButton.js'\n\nconst StyledNav = styled.nav`\n    position: fixed;\n    top: 4rem;\n    left: 0;\n    bottom: 0;\n    width: ${props => (props.showFull ? '12rem' : '4rem')};\n    border-right: 2px solid var(--gray-20);\n`\n\nconst StyledUl = styled.ul`\n    list-style: none;\n    display: flex;\n    gap: var(--base-unit);\n    flex-flow: column nowrap;\n    padding: var(--base-unit) var(--base-unit) 0 var(--base-unit) !important;\n`\n\nconst StyledLi = styled.li`\n    width: 100%;\n    display: flex;\n`\n\nconst StyledNavButton = styled.button`\n    width: 100%;\n    padding: var(--base-unit);\n    display: flex;\n    justify-content: ${props => (props.showFull ? 'flex-end' : 'center')};\n    align-items: center;\n    background: transparent;\n    border: none;\n    outline: none;\n\n    &:hover,\n    &:focus {\n        background-color: var(--gray-20);\n        cursor: pointer;\n    }\n\n    svg {\n        height: 1.5rem;\n    }\n`\n\nexport default function SideNav({\n    setPage,\n    page,\n    inv,\n    orders,\n    showFull,\n    setShowFull,\n    messages,\n}) {\n    return (\n        <StyledNav showFull={showFull}>\n            <StyledNavButton\n                showFull={showFull}\n                type=\"button\"\n                onClick={() => setShowFull(!showFull)}\n            >\n                {showFull ? <LeftIcon /> : <RightIcon />}\n            </StyledNavButton>\n            <StyledUl>\n                <StyledLi>\n                    <SideNavButton\n                        showFull={showFull}\n                        page={page}\n                        active=\"metrics\"\n                        setPage={setPage}\n                    >\n                        <MetricsIcon />\n                    </SideNavButton>\n                </StyledLi>\n                <StyledLi>\n                    <SideNavButton\n                        showFull={showFull}\n                        page={page}\n                        active=\"orders\"\n                        num={orders}\n                        setPage={setPage}\n                    >\n                        <OrdersIcon />\n                    </SideNavButton>\n                </StyledLi>\n                <StyledLi>\n                    <SideNavButton\n                        active=\"inventory\"\n                        page={page}\n                        showFull={showFull}\n                        num={inv}\n                        setPage={setPage}\n                    >\n                        <InventoryIcon />\n                    </SideNavButton>\n                </StyledLi>\n                <StyledLi>\n                    <SideNavButton\n                        active=\"messages\"\n                        page={page}\n                        showFull={showFull}\n                        num={messages}\n                        setPage={setPage}\n                    >\n                        <MessagesIcon />\n                    </SideNavButton>\n                </StyledLi>\n            </StyledUl>\n        </StyledNav>\n    )\n}\n","import styled from 'styled-components'\n\nconst StyledLabel = styled.label`\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n    user-select: none;\n    margin: 0;\n`\n\nexport default function Label({ props, children }) {\n    return <StyledLabel {...props}>{children}</StyledLabel>\n}\n","export default function Trash() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n        >\n            <polyline points=\"3 6 5 6 21 6\"></polyline>\n            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n        </svg>\n    )\n}\n","import Trash from '../Icons/Trash.js'\n\nexport default function DeleteButton({ onClick }) {\n    return (\n        <button\n            type=\"button\"\n            className=\"button danger icon-button outline\"\n            onClick={onClick}\n        >\n            <Trash />\n        </button>\n    )\n}\n","import styled from 'styled-components'\nimport Label from '../Text/Label.js'\nimport DeleteButton from '../Buttons/DeleteButton.js'\nimport { updateItem } from '../../services/services.js'\n\nconst StyledLi = styled.li`\n    display: flex;\n    width: 100%;\n    align-items: center;\n    gap: 2rem;\n    @media screen and (min-width: 1281px) {\n        gap: 3rem;\n    }\n    border-top: 2px solid var(--gray-20);\n    border-left: 2px solid var(--gray-20);\n    border-right: 2px solid var(--gray-20);\n    padding: 1rem;\n\n    &:hover {\n        background-color: var(--gray-20);\n    }\n`\n\nconst StyledImg = styled.img`\n    max-height: 2rem;\n`\n\nconst StyledName = styled.p`\n    font-size: 1rem;\n`\n\nconst StyledAttr = styled.p`\n    font-weight: 500;\n    ${props => props.grow && 'flex-grow: 1;'}\n`\n\nexport default function InventoryItem({ item, token, setInv }) {\n    const handler = (key, fn) => event => {\n        setInv(inv => ({\n            ...inv,\n            [item.prefix]: inv[item.prefix].map(i =>\n                i.id === item.id ? { ...i, [key]: fn(event.target) } : i\n            ),\n        }))\n        updateItem({ ...item, [key]: fn(event.target) }, token).catch(e =>\n            console.log(e)\n        )\n    }\n\n    const handleQuantity = handler('quantity', t => Number(t.value))\n    const handleActive = handler('active', t => t.checked)\n    const handlePrice = handler('price', t => Number(t.value))\n\n    return (\n        <StyledLi>\n            <StyledImg\n                src={`https://zircus.netlify.app/${item.images.sm_a}`}\n                alt={item.name}\n                className=\"inventory__item__img\"\n            />\n            <StyledName>{item.name.en}</StyledName>\n            <StyledAttr>{item.size}</StyledAttr>\n            <StyledAttr grow={true}>{item.color}</StyledAttr>\n            <Label htmlFor={`${item.id}-price`}>\n                <StyledAttr>price</StyledAttr>\n                <input\n                    min=\"0\"\n                    step=\"1\"\n                    size=\"5\"\n                    type=\"number\"\n                    id={`${item.id}-price`}\n                    value={item.price}\n                    onChange={handlePrice}\n                />\n            </Label>\n            <Label htmlFor={`${item.id}-quantity`}>\n                <StyledAttr>quantity</StyledAttr>\n                <input\n                    min=\"0\"\n                    step=\"1\"\n                    size=\"5\"\n                    type=\"number\"\n                    id={`${item.id}-quantity`}\n                    value={item.quantity}\n                    onChange={handleQuantity}\n                />\n            </Label>\n            <Label htmlFor=\"active\">\n                <StyledAttr>active</StyledAttr>\n                <input\n                    type=\"checkbox\"\n                    checked={item.active}\n                    onChange={handleActive}\n                />\n            </Label>\n        </StyledLi>\n    )\n}\n","export default function Spinner() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            className=\"icon\"\n        >\n            <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line>\n            <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line>\n            <line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line>\n            <line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line>\n            <line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line>\n            <line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line>\n            <line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line>\n            <line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line>\n        </svg>\n    )\n}\n","import styled from 'styled-components'\nimport Label from '../Text/Label.js'\n\nconst StyledFiltersContainer = styled.div`\n    position: fixed;\n    right: calc(var(--base-unit) + 15px);\n    bottom: var(--base-unit);\n    height: 3rem;\n    padding: var(--base-unit) calc(var(--base-unit) * 2);\n    background-color: var(--dgray-90);\n    border-radius: var(--radius);\n    border: 2px solid var(--gray-20);\n    display: flex;\n    align-items: center;\n    gap: var(--base-unit);\n    color: var(--gray-10);\n`\n\nconst StyledFilters = styled.div`\n    display: flex;\n    gap: var(--base-spacing);\n`\n\nexport default function Filter({ filters }) {\n    return (\n        <StyledFiltersContainer>\n            <StyledFilters>\n                {filters &&\n                    filters.map((filter, i) => (\n                        <Label\n                            htmlFor={`filter-${i}`}\n                            key={filter.text}\n                            active={filter.active}\n                        >\n                            {filter.text}\n                            <input\n                                checked={filter.active}\n                                onChange={filter.setActive}\n                                type=\"checkbox\"\n                                id={`filter-${i}`}\n                            />\n                        </Label>\n                    ))}\n            </StyledFilters>\n        </StyledFiltersContainer>\n    )\n}\n","import styled from 'styled-components'\n\nconst StyledPage = styled.main`\n    overflow-y: scroll;\n    min-height: calc(100vh - 4rem);\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    ${props => props.padTop && 'padding-top: var(--base-spacing);'}\n    ${props => props.pad && `padding-left: var(--base-spacing);`}\n    ${props => props.pad && `padding-right: var(--base-spacing);`}\n    padding-bottom: var(--lg-spacing);\n`\n\nexport default function Page({ children, padTop, pad }) {\n    return (\n        <StyledPage padTop={padTop} pad={pad}>\n            {children}\n        </StyledPage>\n    )\n}\n","import styled from 'styled-components'\n\nconst StyledList = styled.ul`\n    display: flex;\n    flex-flow: column nowrap;\n    max-width: var(--screen-lg);\n    width: 100%;\n    ${props => (props.gap ? 'gap: var(--base-spacing);' : '')}\n`\nexport default function List({ gap, children }) {\n    return <StyledList gap={gap}>{children}</StyledList>\n}\n","import { useState } from 'react'\nimport InventoryItem from './InventoryItem.js'\nimport Spinner from '../Icons/Spinner.js'\nimport Filter from '../Filter/Filter.js'\nimport Page from '../Containers/Page.js'\nimport List from '../Containers/List.js'\n\nexport default function Inventory({ inv, token, setInv }) {\n    const [showFF, setShowFF] = useState(true)\n    const [showPF, setShowPF] = useState(true)\n    const [showCF, setShowCF] = useState(true)\n\n    const filters = [\n        {\n            active: showFF,\n            text: 'flat front',\n            setActive: () => setShowFF(!showFF),\n        },\n        {\n            active: showPF,\n            text: 'pouch front',\n            setActive: () => setShowPF(!showPF),\n        },\n        {\n            active: showCF,\n            text: 'compression front',\n            setActive: () => setShowCF(!showCF),\n        },\n    ]\n\n    return (\n        <Page>\n            <Filter filters={filters} />\n            <List>\n                {inv &&\n                    showFF &&\n                    inv.ff.map(item => (\n                        <InventoryItem\n                            item={item}\n                            key={item.id}\n                            token={token}\n                            setInv={setInv}\n                        />\n                    ))}\n                {inv &&\n                    showPF &&\n                    inv.pf.map(item => (\n                        <InventoryItem\n                            item={item}\n                            key={item.id}\n                            token={token}\n                            setInv={setInv}\n                        />\n                    ))}\n                {inv &&\n                    showCF &&\n                    inv.cf.map(item => (\n                        <InventoryItem\n                            item={item}\n                            key={item.id}\n                            token={token}\n                            setInv={setInv}\n                        />\n                    ))}\n                {!inv && (\n                    <li id=\"spinner\" className=\"spinner\">\n                        <Spinner />\n                    </li>\n                )}\n            </List>\n        </Page>\n    )\n}\n","import { LineChart, Line, CartesianGrid, XAxis, YAxis } from 'recharts'\n\nexport default function OrdersChart({ orders }) {\n    const data = orders\n        ? orders.map(order => ({\n              name: order.name,\n              date: new Date(order.createdOn).toLocaleDateString(),\n              total: order.total,\n          }))\n        : []\n\n    return (\n        <LineChart width={500} height={400} data={data}>\n            <Line type=\"monotone\" dataKey=\"total\" stroke=\"#888888\" />\n            <CartesianGrid stroke=\"#cccccc\" />\n            <XAxis dataKey=\"date\" />\n            <YAxis />\n        </LineChart>\n    )\n}\n","import styled from 'styled-components'\nimport Page from '../Containers/Page.js'\nimport OrdersChart from './OrdersChart.js'\n\nconst StyledContainer = styled.div`\n    display: flex;\n    ${props =>\n        props.flow ? `flex-flow: ${props.flow};` : 'flex-flow: row wrap;'}\n    gap: var(--base-spacing);\n    margin-top: var(--base-spacing);\n    width: 100%;\n    max-width: var(--screen-md);\n`\n\nconst StyledBubble = styled.div`\n    background-color: var(--gray-20);\n    border-radius: var(--radius);\n    flex-basis: 12rem;\n    flex-grow: 1;\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    justify-content: flex-start;\n    overflow: hidden;\n    margin-bottom: var(--lg-spacing);\n\n    h3 {\n        background-color: var(--dgray-80);\n        color: var(--gray-10);\n        width: 100%;\n        text-align: center;\n        padding: var(--base-unit) var(--base-spacing);\n    }\n`\n\nconst StyledOrdersNum = styled.span`\n    display: flex;\n    height: 100%;\n    align-items: center;\n    justify-content: center;\n    font-size: var(--xxl-font-size);\n`\n\nconst StyledItems = styled.ul`\n    width: 100%;\n    padding: var(--base-spacing) !important;\n\n    li {\n        display: flex;\n        justify-content: space-between;\n        border-bottom: 1px solid var(--gray-30);\n        padding: var(--base-unit);\n\n        &:hover {\n            background-color: var(--gray-30);\n        }\n    }\n`\n\nexport default function Metrics({ orders, inv, messages }) {\n    const invFlat = (inv && Object.values(inv).flat()) || []\n    return (\n        <Page pad={true}>\n            <StyledContainer flow=\"row wrap\">\n                <StyledBubble>\n                    <h3>orders</h3>\n                    <StyledOrdersNum>{orders && orders.length}</StyledOrdersNum>\n                </StyledBubble>\n                <StyledBubble>\n                    <h3>messages</h3>\n                    <StyledOrdersNum>\n                        {messages && messages.length}\n                    </StyledOrdersNum>\n                </StyledBubble>\n                <StyledBubble>\n                    <h3>low stock</h3>\n                    <StyledItems>\n                        {invFlat.map(\n                            item =>\n                                item.quantity < 5 && (\n                                    <li key={item.type}>\n                                        <span>{item.type}</span>\n                                        <span>{item.quantity}</span>\n                                    </li>\n                                )\n                        )}\n                    </StyledItems>\n                </StyledBubble>\n            </StyledContainer>\n            <StyledContainer flow=\"column nowrap\">\n                <h2>Recent Orders</h2>\n                <OrdersChart orders={orders} />\n            </StyledContainer>\n        </Page>\n    )\n}\n","import styled from 'styled-components'\n\nconst StyledText = styled.h3`\n    font-size: 1.125rem;\n    font-weight: 700;\n    display: block;\n    margin-bottom: var(--base-unit);\n    font-style: normal;\n`\n\nexport default function MediumHeader({ children }) {\n    return <StyledText>{children}</StyledText>\n}\n","import styled from 'styled-components'\nimport MediumHeader from '../Text/MediumHeader.js'\n\nconst StyledAddress = styled.address`\n    flex-grow: 1;\n`\n\nexport default function OrderAddress({ order }) {\n    return (\n        <StyledAddress>\n            <MediumHeader>{order.name}</MediumHeader>\n            <a href={`mailto:${order.email}`}>{order.email}</a>\n            <br />\n            {order.streetAddress}\n            <br />\n            {order.city} {order.state}\n            <br />\n            {order.zip.toUpperCase()} {order.country}\n            <br />\n        </StyledAddress>\n    )\n}\n","import styled from 'styled-components'\n\nconst StyledTotal = styled.p`\n    margin-top: auto;\n    text-align: right;\n    font-weight: 600;\n`\n\nconst StyledItems = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: space-between;\n    width: 14rem;\n    border-right: 2px solid var(--gray-30);\n    padding-right: var(--base-spacing);\n`\n\nexport default function OrderItems({ order }) {\n    return (\n        <StyledItems>\n            <ul>\n                {order.items.map(item => (\n                    <li key={item.type}>\n                        {item.type} x {item.quantity}\n                    </li>\n                ))}\n            </ul>\n            <StyledTotal>total ${order.total.toFixed(2)}</StyledTotal>\n        </StyledItems>\n    )\n}\n","import styled from 'styled-components'\nimport { updateOrder, deleteOrder } from '../../services/services.js'\nimport OrderAddress from './OrderAddress.js'\nimport MediumHeader from '../Text/MediumHeader.js'\nimport OrderItems from './OrderItems.js'\nimport Label from '../Text/Label.js'\nimport DeleteButton from '../Buttons/DeleteButton.js'\n\nconst StyledLi = styled.li`\n    margin: 0 auto;\n    display: flex;\n    gap: var(--base-spacing);\n    padding: var(--base-spacing);\n    width: 100%;\n    border-left: 0.5rem solid;\n    border-right: 0.5rem solid;\n    border-bottom: 1px solid;\n    border-top: 1px solid;\n    border-color: ${props =>\n        props.hasPaid && props.hasShipped\n            ? 'var(--green)'\n            : props.hasPaid\n            ? 'var(--yellow)'\n            : 'var(--gray-30)'};\n\n    &:hover {\n        background-color: var(--gray-20);\n    }\n`\n\nconst StyledActions = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n`\n\nconst StyledBtnContainer = styled.div`\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    flex-grow: 1;\n`\n\nexport default function Order({\n    order,\n    token,\n    setShowModal,\n    setOrders,\n    notify,\n}) {\n    const handleDeleteFailure = ({ data }) =>\n        notify(`Error: ${data?.error}`, 'red') && console.log(data)\n    const handleDelete = () => {\n        setShowModal({\n            heading: 'Confirm deletion',\n            text: `Delete ${order.name}'s order?'`,\n            color: 'danger',\n            btnText: 'Delete',\n            ok: choice => {\n                if (choice)\n                    deleteOrder(order.id, token).catch(handleDeleteFailure)\n            },\n        })\n    }\n\n    const updatePaid = () => {\n        setOrders(orders =>\n            orders.map(o =>\n                o.id === order.id ? { ...o, hasPaid: !o.hasPaid } : o\n            )\n        )\n        updateOrder(\n            {\n                id: order.id,\n                updatedAttributes: {\n                    hasPaid: !order.hasPaid,\n                },\n            },\n            token\n        ).catch(e => console.log(e))\n    }\n\n    const updateShipped = () => {\n        setOrders(orders =>\n            orders.map(o =>\n                o.id === order.id ? { ...o, hasShipped: !o.hasShipped } : o\n            )\n        )\n        updateOrder(\n            {\n                id: order.id,\n                updatedAttributes: {\n                    hasShipped: !order.hasShipped,\n                },\n            },\n            token\n        ).catch(e => console.log(e))\n    }\n\n    return (\n        <StyledLi hasPaid={order.hasPaid} hasShipped={order.hasShipped}>\n            <OrderItems order={order} />\n            <OrderAddress order={order} />\n            <StyledActions>\n                <MediumHeader>\n                    {new Date(order.createdOn).toLocaleString('en-US')}\n                </MediumHeader>\n                <Label>\n                    paid:\n                    <input\n                        type=\"checkbox\"\n                        checked={order.hasPaid}\n                        onChange={updatePaid}\n                    />\n                </Label>\n                <Label>\n                    shipped:\n                    <input\n                        type=\"checkbox\"\n                        checked={order.hasShipped}\n                        onChange={updateShipped}\n                    />\n                </Label>\n                <StyledBtnContainer>\n                    <DeleteButton onClick={handleDelete} />\n                </StyledBtnContainer>\n            </StyledActions>\n        </StyledLi>\n    )\n}\n","import { useState } from 'react'\nimport Order from './Order.js'\nimport Filter from '../Filter/Filter.js'\nimport Page from '../Containers/Page.js'\nimport List from '../Containers/List.js'\n\nexport default function Orders({\n    orders,\n    token,\n    setShowModal,\n    setOrders,\n    notify,\n}) {\n    const [filter, setFilter] = useState(['hasPaid'])\n    const filters = [\n        {\n            active: filter.includes('hasShipped'),\n            text: 'shipped',\n            setActive: () =>\n                filter.includes('hasShipped')\n                    ? setFilter(filter =>\n                          filter.filter(f => f !== 'hasShipped')\n                      )\n                    : setFilter(filter => filter.concat('hasShipped')),\n        },\n        {\n            active: filter.includes('hasPaid'),\n            text: 'paid',\n            setActive: () =>\n                filter.includes('hasPaid')\n                    ? setFilter(filter => filter.filter(f => f !== 'hasPaid'))\n                    : setFilter(filter => filter.concat('hasPaid')),\n        },\n    ]\n    const filterOrder = order => {\n        if (!filter.length) return true\n        for (const f of filter) if (!order[f]) return false\n        return true\n    }\n    const ordersToShow = orders && orders.filter(filterOrder)\n    return (\n        <Page padTop={true}>\n            <Filter filters={filters} />\n            <List gap={true}>\n                {orders &&\n                    ordersToShow.map(order => (\n                        <Order\n                            notify={notify}\n                            token={token}\n                            order={order}\n                            key={order.id}\n                            setShowModal={setShowModal}\n                            setOrders={setOrders}\n                        />\n                    ))}\n            </List>\n        </Page>\n    )\n}\n","import styled from 'styled-components'\nimport MediumHeader from '../Text/MediumHeader.js'\nimport DeleteButton from '../Buttons/DeleteButton.js'\nimport { useState } from 'react'\nimport { deleteMessage } from '../../services/services.js'\n\nconst StyledLi = styled.li`\n    margin: 0 auto;\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-start;\n    gap: var(--md-spacing);\n    padding: var(--base-spacing);\n    width: 100%;\n    border-left: 0.5rem solid;\n    border-right: 0.5rem solid;\n    border-bottom: 1px solid;\n    border-top: 1px solid;\n    border-color: var(--gray-30);\n\n    &:hover {\n        background-color: var(--gray-20);\n    }\n`\n\nconst StyledDiv = styled.div`\n    display: flex;\n    max-width: 22vw;\n    width: 100%;\n    flex-flow: column nowrap;\n`\n\nconst StyledActions = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    flex-grow: 1;\n`\n\nconst StyledText = styled.p`\n    max-width: 75ch;\n    width: 100%;\n`\n\nconst StyledA = styled.a`\n    text-decoration: none;\n    padding: var(--base-unit);\n    color: var(--link);\n\n    &:hover,\n    &:focus {\n        text-decoration: none !important;\n        color: var(--link-hover);\n    }\n`\n\nexport default function Message({\n    message,\n    setShowModal,\n    setMessages,\n    token,\n    notify,\n}) {\n    const [showFull, setShowFull] = useState(false)\n    const handleDeleteSuccess = ({ data }) => {\n        setMessages(messages => messages.filter(m => m.id !== message.id))\n        notify(`${data.response}: Deleted ${message.name}'s message`, 'red')\n    }\n    const handleDeleteFailure = ({ data }) => notify(`${data.error}`, 'red')\n    const handleDelete = () => {\n        setShowModal({\n            heading: 'Confirm deletion',\n            text: `Delete ${message.name}'s message?'`,\n            color: 'danger',\n            btnText: 'Delete',\n            ok: choice => {\n                if (choice)\n                    deleteMessage(message.id, token)\n                        .then(handleDeleteSuccess)\n                        .catch(handleDeleteFailure)\n            },\n        })\n    }\n\n    return (\n        <StyledLi>\n            <StyledDiv>\n                <MediumHeader>{message.name}</MediumHeader>\n                <a href={`mailto:${message.email}`}>{message.email}</a>\n            </StyledDiv>\n            <StyledText>\n                {showFull ? message.message : message.message.substring(0, 140)}\n                {message.message.length > 140 && (\n                    <StyledA\n                        href=\"#\"\n                        onClick={() => setShowFull(state => !state)}\n                    >\n                        {showFull ? '(less)' : '... (more)'}\n                    </StyledA>\n                )}\n            </StyledText>\n            <StyledActions>\n                <DeleteButton onClick={() => handleDelete()} />\n            </StyledActions>\n        </StyledLi>\n    )\n}\n","import Page from '../Containers/Page.js'\nimport List from '../Containers/List.js'\nimport Message from './Message.js'\n\nexport default function Messages({\n    messages,\n    setShowModal,\n    setMessages,\n    token,\n    notify,\n}) {\n    return (\n        <Page>\n            <List gap={true}>\n                {messages &&\n                    messages.map(message => (\n                        <Message\n                            notify={notify}\n                            token={token}\n                            setMessages={setMessages}\n                            key={message.id}\n                            message={message}\n                            setShowModal={setShowModal}\n                        />\n                    ))}\n            </List>\n        </Page>\n    )\n}\n","import styled from 'styled-components'\n\nconst StyledDiv = styled.div`\n    position: fixed;\n    top: calc(var(--base-unit) + 4rem);\n    right: calc(var(--base-unit) + 15px); // for scrollbar\n    width: 22rem;\n    background-color: ${props =>\n        props.look === 'red'\n            ? 'var(--red);'\n            : props.look === 'green'\n            ? 'var(--green);'\n            : 'var(--gray-30);'}\n    z-index: 100;\n    border-radius: var(--radius);\n    opacity: 0.95;\n    box-shadow: var(--box-shadow-sm);\n    animation: 0.2s ease-out forwards fadeDown;\n`\n\nconst StyledP = styled.p`\n    color: var(--gray-20);\n    margin: var(--base-spacing);\n    font-size: var(--small-font-size);\n    font-weight: 600;\n`\n\nexport default function Notification({ notification }) {\n    return (\n        <StyledDiv look={notification.style}>\n            <StyledP>{notification.text}</StyledP>\n        </StyledDiv>\n    )\n}\n","import styled from 'styled-components'\nimport { useState } from 'react'\nimport Header from './components/Header/Header.js'\nimport SideNav from './components/SideNav/SideNav.js'\nimport Inventory from './components/Inventory/Inventory.js'\nimport Metrics from './components/Metrics/Metrics.js'\nimport Orders from './components/Orders/Orders.js'\nimport Messages from './components/Messages/Messages.js'\nimport Notification from './components/Notification/Notification.js'\n\nconst StyledDashboard = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    padding-top: 4rem;\n    padding-left: ${props => (props.showFull ? '12rem' : '4rem')};\n    height: 100vh;\n    overflow: hidden;\n`\n\nexport default function Dashboard({\n    inv,\n    orders,\n    token,\n    setShowModal,\n    logout,\n    setOrders,\n    setInv,\n    user,\n    messages,\n    setMessages,\n    notify,\n    notification,\n}) {\n    const [page, setPage] = useState('metrics')\n    const [showFull, setShowFull] = useState(true)\n    const numOrders = orders ? orders.length : 0\n    const numMessages = messages ? messages.length : 0\n    const reduceFn = (inv, fn) => inv.reduce((acc, item) => acc + fn(item), 0)\n    const qty = item => item.quantity\n    const numInv = inv\n        ? reduceFn(\n              [\n                  reduceFn(inv.ff, qty),\n                  reduceFn(inv.pf, qty),\n                  reduceFn(inv.cf, qty),\n              ],\n              x => x\n          )\n        : 0\n\n    return (\n        <StyledDashboard showFull={showFull}>\n            <Header text=\"Zircus Admin Dashboard\" logout={logout} user={user} />\n            <SideNav\n                page={page}\n                setPage={setPage}\n                orders={numOrders}\n                inv={numInv}\n                showFull={showFull}\n                setShowFull={setShowFull}\n                messages={numMessages}\n            />\n            {notification && <Notification notification={notification} />}\n            {page === 'inventory' && (\n                <Inventory\n                    inv={inv}\n                    token={token}\n                    setShowModal={setShowModal}\n                    setInv={setInv}\n                />\n            )}\n            {page === 'orders' && (\n                <Orders\n                    orders={orders}\n                    token={token}\n                    setShowModal={setShowModal}\n                    setOrders={setOrders}\n                    notify={notify}\n                />\n            )}\n            {page === 'metrics' && (\n                <Metrics\n                    orders={orders}\n                    setShowModal={setShowModal}\n                    inv={inv}\n                    messages={messages}\n                />\n            )}\n            {page === 'messages' && (\n                <Messages\n                    messages={messages}\n                    setMessages={setMessages}\n                    setShowModal={setShowModal}\n                    token={token}\n                    notify={notify}\n                />\n            )}\n        </StyledDashboard>\n    )\n}\n","import { useEffect, useRef } from 'react'\nimport styled from 'styled-components'\n\nconst StyledBlur = styled.div`\n    ${props => props.showModal && 'filter: blur(0.25rem)'};\n`\n\nconst StyledBlock = styled.div`\n    width: 100vw;\n    height: 100vh;\n    top: 0;\n    left: 0;\n    position: fixed;\n`\n\nconst StyledModal = styled.section`\n    position: fixed;\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 1rem;\n    backgroud-color: var(--gray-90);\n    top: calc(25%);\n    left: calc(50% - 15rem);\n    width: 30rem;\n    min-height: 15rem;\n    background-color: var(--gray-10);\n    border-radius: var(--big-radius);\n    border: 2px solid var(--dgray-90);\n    padding: var(--base-spacing);\n`\n\nconst StyledText = styled.p`\n    flex-grow: 1;\n`\n\nconst StyledButtons = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    width: 100%;\n    gap: 1rem;\n`\n\nconst StyledButton = styled.button`\n    flex-grow: 1;\n`\n\nexport default function Modal({ children, showModal, setShowModal }) {\n    const cancelBtn = useRef()\n\n    const ok = () => {\n        showModal.ok(true)\n        setShowModal(null)\n    }\n    const cancel = () => {\n        showModal.ok(false)\n        setShowModal(null)\n    }\n\n    useEffect(() => {\n        showModal && cancelBtn.current.focus()\n    })\n\n    return (\n        <div>\n            <StyledBlur showModal={showModal}>\n                {children}\n                {showModal && <StyledBlock></StyledBlock>}\n            </StyledBlur>\n            {showModal && (\n                <StyledModal>\n                    <h2>{showModal.heading}</h2>\n                    <StyledText>{showModal.text}</StyledText>\n                    <StyledButtons>\n                        <StyledButton\n                            className={`${showModal.color} button`}\n                            type=\"button\"\n                            onClick={ok}\n                        >\n                            {showModal.btnText || 'Ok'}\n                        </StyledButton>\n                        <StyledButton\n                            className=\"button outline\"\n                            type=\"button\"\n                            onClick={cancel}\n                            ref={cancelBtn}\n                        >\n                            Cancel\n                        </StyledButton>\n                    </StyledButtons>\n                </StyledModal>\n            )}\n        </div>\n    )\n}\n","import Login from './Login.js'\nimport Dashboard from './Dashboard.js'\nimport Modal from './components/Modal/Modal.js'\nimport { useContext, useEffect, useState } from 'react'\nimport { getInv, getMessages, getOrders } from './services/services.js'\nimport { WebsocketContext } from './services/Websocket.js'\n\nfunction App() {\n    const [user, setUser] = useState(null)\n    const [token, setToken] = useState(null)\n    const [inv, setInv] = useState(null)\n    const [messages, setMessages] = useState(null)\n    const [orders, setOrders] = useState(null)\n    const [showModal, setShowModal] = useState(null)\n    const [notification, setNotification] = useState(null)\n    const [websocketId, setWebsocketId] = useState(-1)\n    const { addListener, removeListener } = useContext(WebsocketContext)\n\n    const updateMessages = ({ text, color }) => {\n        notify(text, color)\n        getMessages(token)\n            .then(reply => setMessages(reply.data.messages))\n            .catch(() => setMessages(null))\n    }\n\n    const updateOrders = ({ text, color }) => {\n        notify(text, color)\n        getInv()\n            .then(reply => setInv(reply.data))\n            .catch(() => setInv(null))\n        getOrders(token)\n            .then(reply => setOrders(reply.data))\n            .catch(() => setOrders(null))\n    }\n\n    const initWebsocketListener = () => {\n        const websocketListenerId = addListener(msg => {\n            if (!token) return\n            switch (msg.type) {\n                case 'message':\n                    return updateMessages({\n                        text: `New message from ${msg.data.name}`,\n                        color: 'green',\n                    })\n                case 'pending order':\n                    return updateOrders({\n                        text: `Pending order from ${msg.data.name}`,\n                        color: 'gray',\n                    })\n                case 'paid order':\n                    return updateOrders({\n                        text: `Paid order from ${msg.data.name}`,\n                        color: 'green',\n                    })\n                case 'deleted order':\n                    return updateOrders({\n                        text: `${msg.data.response}: Inventory updated`,\n                        color: 'red',\n                    })\n            }\n        })\n        setWebsocketId(websocketListenerId)\n    }\n\n    const onComponentDestroy = () => {\n        removeListener(websocketId)\n        setWebsocketId(-1)\n    }\n\n    const notify = (text, style) => {\n        if (notification && notification.self) clearTimeout(notification.self)\n        const self = setTimeout(() => setNotification(null), 4500)\n        setNotification({ text, style, self })\n    }\n\n    const logout = () => {\n        setUser(null)\n        setToken(null)\n        localStorage.removeItem('user')\n        localStorage.removeItem('token')\n    }\n\n    useEffect(() => {\n        getInv()\n            .then(reply => setInv(reply.data))\n            .catch(() => setInv(null))\n        if (token !== null) {\n            getOrders(token)\n                .then(reply => setOrders(reply.data))\n                .catch(() => setOrders(null))\n            getMessages(token)\n                .then(reply => setMessages(reply.data.messages))\n                .catch(() => setMessages(null))\n        }\n        initWebsocketListener()\n        return onComponentDestroy\n    }, [setInv, token])\n\n    return (\n        <Modal showModal={showModal} setShowModal={setShowModal}>\n            {token ? (\n                <Dashboard\n                    notification={notification}\n                    notify={notify}\n                    inv={inv}\n                    orders={orders}\n                    token={token}\n                    logout={logout}\n                    setShowModal={setShowModal}\n                    setOrders={setOrders}\n                    setInv={setInv}\n                    user={user}\n                    messages={messages}\n                    setMessages={setMessages}\n                />\n            ) : (\n                <Login setUser={setUser} setToken={setToken} />\n            )}\n        </Modal>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\nimport { WebsocketProvider } from './services/Websocket.js'\n\nReactDOM.render(\n    <React.StrictMode>\n        <WebsocketProvider>\n            <App />\n        </WebsocketProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}