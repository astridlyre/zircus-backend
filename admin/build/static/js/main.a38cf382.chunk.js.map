{"version":3,"sources":["services/services.js","hooks/hooks.js","Login.js","components/Header.js","components/SideNav.js","components/Spinner.js","components/Trash.js","components/InventoryItem.js","Dashboard.js","App.js","index.js"],"names":["API_ENDPOINT","login","username","password","a","axios","post","get","updateItem","item","token","put","headers","Authorization","useField","type","initial","placeholder","useState","value","setFieldVal","onChange","e","target","Login","setToken","setUser","failedLogin","setFailedLogin","usernameInput","passwordInput","handleFailedLogin","setTimeout","handleSuccessfulLogin","data","name","localStorage","setItem","handleSubmit","preventDefault","then","catch","useEffect","storedToken","getItem","storedUser","className","id","onSubmit","htmlFor","disabled","Header","text","logout","onClick","SideNav","href","Spinner","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","Trash","points","d","InventoryItem","quantity","setQuantity","active","setActive","src","images","sm_a","alt","size","color","min","step","Number","reply","console","log","checked","Dashboard","inv","showFF","setShowFF","showPF","setShowPF","showCF","setShowCF","ff","map","pf","cf","App","setInv","getInv","removeItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a38cf382.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst API_ENDPOINT = 'https://zircus.herokuapp.com/api'\n// const API_ENDPOINT = 'http://localhost:3000/api'\n\nexport async function login(username, password) {\n    return await axios.post(`${API_ENDPOINT}/login`, {\n        username,\n        password,\n    })\n}\n\nexport async function getInv() {\n    return await axios.get(`${API_ENDPOINT}/inv`)\n}\n\nexport async function updateItem(item, token) {\n    return await axios.put(`${API_ENDPOINT}/inv`, item, {\n        headers: {\n            Authorization: `Bearer ${token}`,\n        },\n    })\n}\n","import { useState } from 'react'\n\nexport function useField(type, initial, placeholder) {\n    const [value, setFieldVal] = useState(initial)\n    return [\n        {\n            type,\n            value,\n            onChange: e => setFieldVal(e.target.value),\n            placeholder,\n        },\n        () => setFieldVal(initial),\n    ]\n}\n","import { useEffect, useState } from 'react'\nimport { login } from './services/services.js'\nimport { useField } from './hooks/hooks.js'\n\nexport default function Login({ setToken, setUser }) {\n    const [failedLogin, setFailedLogin] = useState(false)\n    const [usernameInput] = useField('text', '', 'Enter username')\n    const [passwordInput] = useField('password', '', 'Enter password')\n\n    const handleFailedLogin = () => {\n        setFailedLogin(true)\n        setTimeout(() => {\n            setFailedLogin(false)\n        }, 2000)\n    }\n\n    const handleSuccessfulLogin = ({ data }) => {\n        setUser(data.name)\n        setToken(data.token)\n        localStorage.setItem('user', data.name)\n        localStorage.setItem('token', data.token)\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n        login(usernameInput.value, passwordInput.value)\n            .then(handleSuccessfulLogin)\n            .catch(handleFailedLogin)\n    }\n\n    useEffect(() => {\n        const storedToken = localStorage.getItem('token')\n        const storedUser = localStorage.getItem('user')\n        if (storedToken) setToken(storedToken)\n        if (storedUser) setUser(storedUser)\n    }, [setToken, setUser])\n\n    return (\n        <div className=\"flex-col login__body\">\n            <main className=\"login\">\n                <h1 className=\"page__heading\">Zircus Admin</h1>\n                <p className=\"page__subheading\" id=\"login-message\">\n                    {failedLogin ? 'Login failed' : 'Please Log in:'}\n                </p>\n                <form\n                    className=\"flex-col\"\n                    id=\"login-form\"\n                    onSubmit={handleSubmit}\n                >\n                    <label htmlFor=\"username\">\n                        <span>Username</span>\n                        <input\n                            {...usernameInput}\n                            disabled={failedLogin ? true : false}\n                        />\n                    </label>\n                    <label htmlFor=\"password\">\n                        <span>Password</span>\n                        <input\n                            {...passwordInput}\n                            disabled={failedLogin ? true : false}\n                        />\n                    </label>\n                    <button type=\"submit\" disabled={failedLogin ? true : false}>\n                        {failedLogin ? 'Please wait' : 'Log in'}\n                    </button>\n                </form>\n            </main>\n        </div>\n    )\n}\n","export default function Header({ text, logout }) {\n    return (\n        <header className=\"dashboard__header\">\n            <h3>{text}</h3>\n            <button type=\"button\" onClick={logout}>\n                logout\n            </button>\n        </header>\n    )\n}\n","export default function SideNav() {\n    return (\n        <nav className=\"dashboard__nav\">\n            <ul className=\"dashboard__nav__links\">\n                <li className=\"dashboard__nav__links__link\">\n                    <a href=\"#\">Inventory</a>\n                </li>\n                <li className=\"dashboard__nav__links__link\">\n                    <a href=\"#\">Orders</a>\n                </li>\n                <li className=\"dashboard__nav__links__link\">\n                    <a href=\"#\">Metrics</a>\n                </li>\n            </ul>\n        </nav>\n    )\n}\n","export default function Spinner() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            className=\"icon\"\n        >\n            <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line>\n            <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line>\n            <line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line>\n            <line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line>\n            <line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line>\n            <line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line>\n            <line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line>\n            <line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line>\n        </svg>\n    )\n}\n","export default function Trash() {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            className=\"icon\"\n        >\n            <polyline points=\"3 6 5 6 21 6\"></polyline>\n            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n        </svg>\n    )\n}\n","import { useState } from 'react'\nimport { useField } from '../hooks/hooks.js'\nimport Trash from './Trash.js'\nimport { updateItem } from '../services/services.js'\n\nexport default function InventoryItem({ item, token }) {\n    const [quantity, setQuantity] = useState(item.quantity)\n    const [active, setActive] = useState(item.active)\n\n    const handleQuantity = e => {\n        setQuantity(e.target.value)\n        updateItem({ ...item, quantity: Number(e.target.value) }, token)\n            .then(reply => console.log(reply.data))\n            .catch(e => console.log(e))\n    }\n\n    const handleActive = () => {\n        updateItem({ ...item, active: !active }, token)\n            .then(reply => setActive(reply.data.active))\n            .catch(e => console.log(e))\n    }\n\n    return (\n        <li className=\"inventory__item\">\n            <img\n                src={`https://zircus.netlify.app/${item.images.sm_a}`}\n                alt={item.name}\n                className=\"inventory__item__img\"\n            />\n            <h4 className=\"inventory__item__name\">{item.name}</h4>\n            <div className=\"inventory__item__desc\">\n                <span className=\"inventory__item__size\">{item.size}</span>\n                <span className=\"inventory__item__color\">{item.color}</span>\n            </div>\n            <label htmlFor=\"item-quantity\">\n                <span className=\"item-quantity-label\">quantity</span>\n                <input\n                    min=\"0\"\n                    step=\"1\"\n                    className=\"item-quantity-input\"\n                    type=\"number\"\n                    value={quantity}\n                    onChange={handleQuantity}\n                />\n            </label>\n            <label htmlFor=\"active\">\n                <span className=\"active-label\">active</span>\n                <input\n                    type=\"checkbox\"\n                    className=\"item-isactive-input\"\n                    checked={active ? true : false}\n                    onChange={handleActive}\n                />\n            </label>\n            <button type=\"button\" className=\"remove-button\">\n                <Trash />\n            </button>\n        </li>\n    )\n}\n","import Header from './components/Header.js'\nimport SideNav from './components/SideNav.js'\nimport Spinner from './components/Spinner.js'\nimport InventoryItem from './components/InventoryItem.js'\nimport { useState } from 'react'\n\nexport default function Dashboard({ inv, token, logout }) {\n    const [showFF, setShowFF] = useState(true)\n    const [showPF, setShowPF] = useState(true)\n    const [showCF, setShowCF] = useState(true)\n\n    return (\n        <div className=\"dashboard\">\n            <Header text=\"Zircus Admin Dashboard\" logout={logout} />\n            <SideNav />\n            <main className=\"dashboard__main\">\n                <div\n                    id=\"inventory-items-filters\"\n                    className=\"inventory__filters\"\n                >\n                    <h4>Filter by</h4>\n                    <button\n                        type=\"button\"\n                        className={showFF ? 'active' : ''}\n                        onClick={() => setShowFF(!showFF)}\n                    >\n                        Flat Front\n                    </button>\n                    <button\n                        type=\"button\"\n                        className={showPF ? 'active' : ''}\n                        onClick={() => setShowPF(!showPF)}\n                    >\n                        Pouch Front\n                    </button>\n                    <button\n                        type=\"button\"\n                        className={showCF ? 'active' : ''}\n                        onClick={() => setShowCF(!showCF)}\n                    >\n                        Compression Front\n                    </button>\n                </div>\n                <ul className=\"inventory__items\" id=\"inventory-items\">\n                    {inv &&\n                        showFF &&\n                        inv.ff.map(item => (\n                            <InventoryItem\n                                item={item}\n                                key={item.id}\n                                token={token}\n                            />\n                        ))}\n                    {inv &&\n                        showPF &&\n                        inv.pf.map(item => (\n                            <InventoryItem\n                                item={item}\n                                key={item.id}\n                                token={token}\n                            />\n                        ))}\n                    {inv &&\n                        showCF &&\n                        inv.cf.map(item => (\n                            <InventoryItem\n                                item={item}\n                                key={item.id}\n                                token={token}\n                            />\n                        ))}\n                    {!inv && (\n                        <li id=\"spinner\" className=\"spinner\">\n                            <Spinner />\n                        </li>\n                    )}\n                </ul>\n            </main>\n        </div>\n    )\n}\n","import Login from './Login.js'\nimport Dashboard from './Dashboard.js'\nimport { useEffect, useState } from 'react'\nimport { getInv } from './services/services.js'\n\nfunction App() {\n    const [user, setUser] = useState(null)\n    const [token, setToken] = useState(null)\n    const [inv, setInv] = useState(null)\n\n    const logout = () => {\n        setUser(null)\n        setToken(null)\n        localStorage.removeItem('user')\n        localStorage.removeItem('token')\n    }\n\n    useEffect(() => {\n        getInv()\n            .then(reply => setInv(reply.data))\n            .catch(() => setInv(null))\n    }, [setInv])\n\n    return token ? (\n        <Dashboard inv={inv} token={token} logout={logout} />\n    ) : (\n        <Login setUser={setUser} setToken={setToken} />\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}