(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(24),i=n.n(c),s=n(4),o=n(7),u=n(5),l=n.n(u),j=n(8),b=n(2),d=n(3),p=n(9),O=n.n(p),x="https://zircus.herokuapp.com/api";function h(e,t){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(x,"/login"),{username:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(x,"/inv"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(x,"/orders"),{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return y.apply(this,arguments)}function y(){return(y=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("".concat(x,"/orders/").concat(t.id),t,{headers:{Authorization:"Bearer ".concat(n)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("".concat(x,"/inv"),t,{headers:{Authorization:"Bearer ".concat(n)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n){var a=Object(r.useState)(t),c=Object(s.a)(a,2),i=c[0],o=c[1];return[{type:e,value:i,onChange:function(e){return o(e.target.value)},placeholder:n},function(){return o(t)}]}var S,N,C,z,F,L,P,A=n(0),I=d.a.main(S||(S=Object(b.a)(["\n    width: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n"]))),q=d.a.form(N||(N=Object(b.a)(["\n    margin-top: var(--base-spacing);\n    padding: var(--md-spacing);\n    background-color: var(--gray-20);\n    border-radius: var(--big-radius);\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 0.5rem;\n"]))),B=d.a.label(C||(C=Object(b.a)(["\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 0.325rem;\n"]))),T=d.a.p(z||(z=Object(b.a)(["\n    color: ",";\n    margin: var(--base-spacing) 0;\n    font-weight: 500;\n"])),(function(e){return e.failedLogin?"var(--red)":"var(--text-color)"})),_=d.a.button(F||(F=Object(b.a)(["\n    margin-top: 1.625rem;\n"])));function D(e){var t=e.setToken,n=e.setUser,a=Object(r.useState)(!1),c=Object(s.a)(a,2),i=c[0],u=c[1],b=k("text",""),d=Object(s.a)(b,1)[0],p=k("password",""),O=Object(s.a)(p,1)[0],x=function(){u(!0),setTimeout((function(){u(!1)}),2e3)},f=function(e){var r=e.data;n(r.name),t(r.token),localStorage.setItem("user",r.name),localStorage.setItem("token",r.token)},m=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h(d.value,O.value).then(f).catch(x);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=localStorage.getItem("token"),r=localStorage.getItem("user");e&&t(e),r&&n(r)}),[t,n]),Object(A.jsx)(I,{children:Object(A.jsxs)(q,{onSubmit:m,children:[Object(A.jsx)("h1",{children:"Zircus Admin"}),Object(A.jsx)(T,{failedLogin:i,children:i?"Login failed":"Please Log in:"}),Object(A.jsxs)(B,{htmlFor:"username",children:[Object(A.jsx)("span",{children:"Username"}),Object(A.jsx)("input",Object(o.a)(Object(o.a)({},d),{},{disabled:!!i}))]}),Object(A.jsxs)(B,{htmlFor:"password",children:[Object(A.jsx)("span",{children:"Password"}),Object(A.jsx)("input",Object(o.a)(Object(o.a)({},O),{},{disabled:!!i}))]}),Object(A.jsx)(_,{className:"button",type:"submit",disabled:!!i,children:i?"Please wait":"Log in"})]})})}var U,E,H,M,J=d.a.header(L||(L=Object(b.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 4rem;\n    background: var(--dgray-80);\n    padding: var(--base-spacing);\n"]))),V=d.a.h3(P||(P=Object(b.a)(["\n    color: var(--invert-text-color);\n"])));function W(e){var t=e.text,n=e.logout;return Object(A.jsxs)(J,{children:[Object(A.jsx)(V,{children:t}),Object(A.jsx)("button",{className:"button light outline",type:"button",onClick:n,children:"logout"})]})}var Y=d.a.nav(U||(U=Object(b.a)(["\n    position: fixed;\n    top: 4rem;\n    left: 0;\n    bottom: 0;\n    width: 16vw;\n    padding: var(--base-spacing);\n    border-right: 2px solid var(--gray-20);\n"]))),Z=d.a.ul(E||(E=Object(b.a)(["\n    list-style: none;\n    display: flex;\n    flex-flow: column nowrap;\n"]))),$=d.a.li(H||(H=Object(b.a)(["\n    margin: var(--base-unit) 0;\n    width: 100%;\n    display: flex;\n"]))),G=d.a.button(M||(M=Object(b.a)(["\n    flex-grow: 1;\n"])));function K(e){var t=e.setPage,n=e.page;return Object(A.jsx)(Y,{children:Object(A.jsxs)(Z,{children:[Object(A.jsx)($,{children:Object(A.jsx)(G,{className:"inventory"===n?"button":"button outline",onClick:function(){return t("inventory")},children:"Inventory"})}),Object(A.jsx)($,{children:Object(A.jsx)(G,{className:"order"===n?"button":"button outline",onClick:function(){return t("orders")},children:"Orders"})}),Object(A.jsx)($,{children:Object(A.jsx)(G,{className:"metrics"===n?"button":"button outline",onClick:function(){return t("metrics")},children:"Metrics"})})]})})}var Q,R,X,ee,te,ne=n(10);function re(){return Object(A.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(A.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object(A.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}var ae,ce,ie,se,oe=d.a.li(Q||(Q=Object(b.a)(["\n    display: flex;\n    width: 100%;\n    align-items: center;\n    gap: 2rem;\n    border-top: 2px solid var(--gray-20);\n    padding: 1rem;\n\n    &:hover {\n        background-color: var(--gray-20);\n    }\n"]))),ue=d.a.img(R||(R=Object(b.a)(["\n    max-height: 2rem;\n"]))),le=d.a.p(X||(X=Object(b.a)(["\n    font-size: 1.125rem;\n    flex-grow: 1;\n"]))),je=d.a.p(ee||(ee=Object(b.a)(["\n    font-weight: 500;\n"]))),be=d.a.label(te||(te=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    margin: 0;\n    gap: 0.5rem;\n"])));function de(e){var t=e.item,n=e.token,a=Object(r.useState)(t.quantity),c=Object(s.a)(a,2),i=c[0],u=c[1],l=Object(r.useState)(t.active),j=Object(s.a)(l,2),b=j[0],d=j[1],p=Object(r.useState)(t.price),O=Object(s.a)(p,2),x=O[0],h=O[1],f=function(e,r){return function(a){r(a.target.value),function(e,t){return w.apply(this,arguments)}(Object(o.a)(Object(o.a)({},t),{},Object(ne.a)({},e,a.target.value)),n).catch((function(e){return console.log(e)}))}},m=f("quantity",u),g=f("active",d),v=f("price",h);return Object(A.jsxs)(oe,{children:[Object(A.jsx)(ue,{src:"https://zircus.netlify.app/".concat(t.images.sm_a),alt:t.name,className:"inventory__item__img"}),Object(A.jsx)(le,{children:t.name}),Object(A.jsx)(je,{children:t.size}),Object(A.jsx)(je,{children:t.color}),Object(A.jsxs)(be,{htmlFor:"".concat(t.id,"-price"),children:[Object(A.jsx)(je,{children:"price"}),Object(A.jsx)("input",{min:"0",step:"1",size:"5",type:"number",id:"".concat(t.id,"-price"),value:x,onChange:v})]}),Object(A.jsxs)(be,{htmlFor:"".concat(t.id,"-quantity"),children:[Object(A.jsx)(je,{children:"quantity"}),Object(A.jsx)("input",{min:"0",step:"1",size:"5",type:"number",id:"".concat(t.id,"-quantity"),value:i,onChange:m})]}),Object(A.jsxs)(be,{htmlFor:"active",children:[Object(A.jsx)(je,{children:"active"}),Object(A.jsx)("input",{type:"checkbox",checked:!!b,onChange:g})]}),Object(A.jsx)("button",{type:"button",className:"button danger icon-button",children:Object(A.jsx)(re,{})})]})}function pe(){return Object(A.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon",children:[Object(A.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),Object(A.jsx)("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),Object(A.jsx)("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),Object(A.jsx)("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),Object(A.jsx)("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),Object(A.jsx)("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),Object(A.jsx)("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),Object(A.jsx)("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]})}var Oe,xe,he,fe,me=d.a.div(ae||(ae=Object(b.a)(["\n    position: fixed;\n    right: var(--base-spacing);\n    top: calc(4rem + var(--base-spacing));\n    margin-left: var(--base-spacing);\n    padding: var(--base-spacing);\n    background-color: var(--gray-20);\n    border-radius: var(--big-radius);\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n"]))),ge=d.a.div(ce||(ce=Object(b.a)(["\n    display: flex;\n    gap: 1rem;\n"]))),ve=d.a.h3(ie||(ie=Object(b.a)(["\n    font-size: 1.125rem;\n"]))),ye=d.a.main(se||(se=Object(b.a)(["\n    overflow-y: scroll;\n    padding-top: 8rem;\n"])));function we(e){var t=e.inv,n=e.token,a=Object(r.useState)(!0),c=Object(s.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(!0),l=Object(s.a)(u,2),j=l[0],b=l[1],d=Object(r.useState)(!0),p=Object(s.a)(d,2),O=p[0],x=p[1];return Object(A.jsxs)(ye,{children:[Object(A.jsxs)(me,{children:[Object(A.jsx)(ve,{children:"Filter by"}),Object(A.jsxs)(ge,{children:[Object(A.jsx)("button",{type:"button",className:i?"button":"button outline",onClick:function(){return o(!i)},children:"Flat Front"}),Object(A.jsx)("button",{type:"button",className:j?"button active":"button outline",onClick:function(){return b(!j)},children:"Pouch Front"}),Object(A.jsx)("button",{type:"button",className:O?"button active":"button outline",onClick:function(){return x(!O)},children:"Compression Front"})]})]}),Object(A.jsxs)("ul",{className:"inv",children:[t&&i&&t.ff.map((function(e){return Object(A.jsx)(de,{item:e,token:n},e.id)})),t&&j&&t.pf.map((function(e){return Object(A.jsx)(de,{item:e,token:n},e.id)})),t&&O&&t.cf.map((function(e){return Object(A.jsx)(de,{item:e,token:n},e.id)})),!t&&Object(A.jsx)("li",{id:"spinner",className:"spinner",children:Object(A.jsx)(pe,{})})]})]})}var ke,Se,Ne=d.a.li(Oe||(Oe=Object(b.a)(["\n    display: flex;\n    gap: 2rem;\n    padding: var(--base-spacing);\n    width: 100%;\n    border-radius: var(--big-radius);\n\n    &:hover {\n        background-color: var(--gray-20);\n    }\n"]))),Ce=d.a.address(xe||(xe=Object(b.a)(["\n    flex-grow: 1;\n"]))),ze=d.a.span(he||(he=Object(b.a)(["\n    font-size: 1.125rem;\n    font-weight: 500;\n    display: block;\n    margin-bottom: var(--base-spacing);\n"]))),Fe=d.a.div(fe||(fe=Object(b.a)(["\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 1rem;\n"])));function Le(e){var t=e.order,n=e.token,a=Object(r.useState)(t.hasPaid),c=Object(s.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(t.hasShipped),l=Object(s.a)(u,2),j=l[0],b=l[1];return Object(A.jsxs)(Ne,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(ze,{children:new Date(t.createdOn).toLocaleString("en-US")}),Object(A.jsxs)("ul",{children:[Object(A.jsxs)("li",{children:["Has paid: ",i?"Yes":"No"]}),Object(A.jsxs)("li",{children:["Has shipped: ",j?"Yes":"No"]}),Object(A.jsx)("li",{children:Object(A.jsxs)("strong",{children:["$",t.total]})})]})]}),Object(A.jsx)("ul",{children:t.items.map((function(e){return Object(A.jsxs)("li",{children:[e.type," x ",e.quantity]},e.type)}))}),Object(A.jsxs)(Ce,{children:[Object(A.jsx)("strong",{children:t.name}),Object(A.jsx)("br",{}),Object(A.jsx)("a",{href:"mailto:".concat(t.email),children:t.email}),Object(A.jsx)("br",{}),t.streetAddress,Object(A.jsx)("br",{}),t.city,Object(A.jsx)("br",{}),t.state,Object(A.jsx)("br",{}),t.zip,Object(A.jsx)("br",{})]}),Object(A.jsxs)(Fe,{children:[Object(A.jsx)("button",{className:"button positive",type:"button",onClick:function(){return v({id:t.id,updatedAttributes:{hasShipped:!j}},n).then((function(){return b(!j)})).catch((function(e){return console.log(e)}))},children:"Toggle Shipped"}),Object(A.jsx)("button",{className:"button",type:"button",onClick:function(){return v({id:t.id,updatedAttributes:{hasPaid:!i}},n).then((function(){return o(!i)})).catch((function(e){return console.log(e)}))},children:"Toggle Paid"}),Object(A.jsx)("button",{className:"button danger",type:"button",children:"Delete Order"})]})]})}var Pe,Ae=d.a.main(ke||(ke=Object(b.a)(["\n    overflow-y: scroll;\n"]))),Ie=d.a.ul(Se||(Se=Object(b.a)(["\n    padding: var(--base-spacing) !important;\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 1rem;\n"])));function qe(e){var t=e.orders,n=e.token;return Object(A.jsx)(Ae,{children:Object(A.jsx)(Ie,{children:t&&t.map((function(e){return Object(A.jsx)(Le,{token:n,order:e},e.id)}))})})}var Be=d.a.div(Pe||(Pe=Object(b.a)(["\n    display: flex;\n    flex-flow: column nowrap;\n    padding-top: 4rem;\n    padding-left: 16vw;\n    height: 100vh;\n    overflow: hidden;\n"])));function Te(e){var t=e.inv,n=e.orders,a=e.token,c=e.logout,i=Object(r.useState)("inventory"),o=Object(s.a)(i,2),u=o[0],l=o[1];return Object(A.jsxs)(Be,{children:[Object(A.jsx)(W,{text:"Zircus Admin Dashboard",logout:c}),Object(A.jsx)(K,{page:u,setPage:l}),"inventory"===u&&Object(A.jsx)(we,{inv:t,token:a}),"orders"===u&&Object(A.jsx)(qe,{orders:n,token:a})]})}var _e=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=(t[0],t[1]),a=Object(r.useState)(null),c=Object(s.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(null),l=Object(s.a)(u,2),j=l[0],b=l[1],d=Object(r.useState)(null),p=Object(s.a)(d,2),O=p[0],x=p[1];return Object(r.useEffect)((function(){(function(){return m.apply(this,arguments)})().then((function(e){return b(e.data)})).catch((function(){return b(null)})),function(e){return g.apply(this,arguments)}(i).then((function(e){return x(e.data)})).catch((function(){return x(null)}))}),[b,i]),i?Object(A.jsx)(Te,{inv:j,orders:O,token:i,logout:function(){n(null),o(null),localStorage.removeItem("user"),localStorage.removeItem("token")}}):Object(A.jsx)(D,{setUser:n,setToken:o})};n(54);i.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(_e,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.d166b016.chunk.js.map